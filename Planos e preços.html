<!DOCTYPE html>
<!-- saved from url=(0057)https://qr-generator.ai/plan-dpf?qr_onboarding=active_dpf -->
<html lang="pt-br" dir="ltr" class="fontawesome-i2svg-active fontawesome-i2svg-complete"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script async="" src="./Planos e preços_files/0.8.41"></script><script async="" src="./Planos e preços_files/187215307"></script><script type="text/javascript" async="" src="./Planos e preços_files/saved_resource" nonce="3df4e1ed-d497-445d-b8b5-161037953d1f"></script><script src="./Planos e preços_files/bat.js.download" async=""></script><script async="" src="./Planos e preços_files/BW5hrNfrHY9v.links.js.download"></script><script async="" src="./Planos e preços_files/209a888.js.download"></script><script async="" src="./Planos e preços_files/BW5hrNfrHY9v-b.js.download"></script><script defer="" referrerpolicy="origin" src="./Planos e preços_files/rgaonbf"></script><script type="text/javascript" async="" src="./Planos e preços_files/hotjar-6497815.js.download" nonce="3df4e1ed-d497-445d-b8b5-161037953d1f"></script><script type="text/javascript" async="" src="./Planos e preços_files/saved_resource(1)" nonce="3df4e1ed-d497-445d-b8b5-161037953d1f"></script><script async="" src="./Planos e preços_files/gtm.js.download"></script><script async="" src="./Planos e preços_files/saved_resource(2)"></script><script>(function(w,i,g){w[g]=w[g]||[];if(typeof w[g].push=='function')w[g].push(i)})
(window,'GTM-MQ5CRW3W','google_tags_first_party');</script><script>(function(w,d,s,l){w[l]=w[l]||[];(function(){w[l].push(arguments);})('set', 'developer_id.dYzg1YT', true);
		w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
		j=d.createElement(s);j.async=true;j.src='/odvk/';
		f.parentNode.insertBefore(j,f);
		})(window,document,'script','dataLayer');</script>
        <script>
    let gtmId = 'GTM-MQ5CRW3W';
    let gtagId = 'GT-TQDCTL3N';
    let gadsId = '';
</script>



<!-- Google Tag Manager -->
<script>
    (function(w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({
            'gtm.start': new Date().getTime(),
            event: 'gtm.js'
        });
        var f = d.getElementsByTagName(s)[0],
            j = d.createElement(s),
            dl = l != 'dataLayer' ? '&l=' + l : '';
        j.async = true;
        j.src =
            'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
        f.parentNode.insertBefore(j, f);
    })(window, document, 'script', 'dataLayer', gtmId);
</script>

<script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
        dataLayer.push(arguments);
    }
    gtag('js', new Date());
    gtag('set', {
        cookie_flags: 'SameSite=None;Secure'
    });
    gtag('config', gtagId);
    // gtag('config', gadsId,  {'allow_enhanced_conversions':true});
</script>
<!-- End Google Tag Manager --> 
        <script src="./Planos e preços_files/custom.js.download"></script>    
         

        <title>Planos e preços</title>
                <!--<base href="https://qr-generator.ai/">--><base href=".">    
        <script type="text/javascript">(window.NREUM||(NREUM={})).init={privacy:{cookies_enabled:true},ajax:{deny_list:["bam.nr-data.net"]},feature_flags:["soft_nav"],distributed_tracing:{enabled:true}};(window.NREUM||(NREUM={})).loader_config={agentID:"1386249254",accountID:"3967724",trustKey:"3967724",xpid:"Vw8BVlFRDBABV1BXAQQCUVID",licenseKey:"NRJS-dc2bdb4f4ccf531db7c",applicationID:"1315655762",browserID:"1386249254"};;/*! For license information please see nr-loader-spa-1.303.0.min.js.LICENSE.txt */
(()=>{var e,t,r={384:(e,t,r)=>{"use strict";r.d(t,{NT:()=>s,US:()=>d,Zm:()=>a,bQ:()=>u,dV:()=>c,pV:()=>l});var n=r(6154),i=r(1863),o=r(1910);const s={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net"};function a(){return n.gm.NREUM||(n.gm.NREUM={}),void 0===n.gm.newrelic&&(n.gm.newrelic=n.gm.NREUM),n.gm.NREUM}function c(){let e=a();return e.o||(e.o={ST:n.gm.setTimeout,SI:n.gm.setImmediate||n.gm.setInterval,CT:n.gm.clearTimeout,XHR:n.gm.XMLHttpRequest,REQ:n.gm.Request,EV:n.gm.Event,PR:n.gm.Promise,MO:n.gm.MutationObserver,FETCH:n.gm.fetch,WS:n.gm.WebSocket},(0,o.i)(...Object.values(e.o))),e}function u(e,t){let r=a();r.initializedAgents??={},t.initializedAt={ms:(0,i.t)(),date:new Date},r.initializedAgents[e]=t}function d(e,t){a()[e]=t}function l(){return function(){let e=a();const t=e.info||{};e.info={beacon:s.beacon,errorBeacon:s.errorBeacon,...t}}(),function(){let e=a();const t=e.init||{};e.init={...t}}(),c(),function(){let e=a();const t=e.loader_config||{};e.loader_config={...t}}(),a()}},782:(e,t,r)=>{"use strict";r.d(t,{T:()=>n});const n=r(860).K7.pageViewTiming},860:(e,t,r)=>{"use strict";r.d(t,{$J:()=>d,K7:()=>c,P3:()=>u,XX:()=>i,Yy:()=>a,df:()=>o,qY:()=>n,v4:()=>s});const n="events",i="jserrors",o="browser/blobs",s="rum",a="browser/logs",c={ajax:"ajax",genericEvents:"generic_events",jserrors:i,logging:"logging",metrics:"metrics",pageAction:"page_action",pageViewEvent:"page_view_event",pageViewTiming:"page_view_timing",sessionReplay:"session_replay",sessionTrace:"session_trace",softNav:"soft_navigations",spa:"spa"},u={[c.pageViewEvent]:1,[c.pageViewTiming]:2,[c.metrics]:3,[c.jserrors]:4,[c.spa]:5,[c.ajax]:6,[c.sessionTrace]:7,[c.softNav]:8,[c.sessionReplay]:9,[c.logging]:10,[c.genericEvents]:11},d={[c.pageViewEvent]:s,[c.pageViewTiming]:n,[c.ajax]:n,[c.spa]:n,[c.softNav]:n,[c.metrics]:i,[c.jserrors]:i,[c.sessionTrace]:o,[c.sessionReplay]:o,[c.logging]:a,[c.genericEvents]:"ins"}},944:(e,t,r)=>{"use strict";r.d(t,{R:()=>i});var n=r(3241);function i(e,t){"function"==typeof console.debug&&(console.debug("New Relic Warning: https://github.com/newrelic/newrelic-browser-agent/blob/main/docs/warning-codes.md#".concat(e),t),(0,n.W)({agentIdentifier:null,drained:null,type:"data",name:"warn",feature:"warn",data:{code:e,secondary:t}}))}},993:(e,t,r)=>{"use strict";r.d(t,{A$:()=>o,ET:()=>s,TZ:()=>a,p_:()=>i});var n=r(860);const i={ERROR:"ERROR",WARN:"WARN",INFO:"INFO",DEBUG:"DEBUG",TRACE:"TRACE"},o={OFF:0,ERROR:1,WARN:2,INFO:3,DEBUG:4,TRACE:5},s="log",a=n.K7.logging},1687:(e,t,r)=>{"use strict";r.d(t,{Ak:()=>u,Ze:()=>f,x3:()=>d});var n=r(3241),i=r(7836),o=r(3606),s=r(860),a=r(2646);const c={};function u(e,t){const r={staged:!1,priority:s.P3[t]||0};l(e),c[e].get(t)||c[e].set(t,r)}function d(e,t){e&&c[e]&&(c[e].get(t)&&c[e].delete(t),p(e,t,!1),c[e].size&&h(e))}function l(e){if(!e)throw new Error("agentIdentifier required");c[e]||(c[e]=new Map)}function f(e="",t="feature",r=!1){if(l(e),!e||!c[e].get(t)||r)return p(e,t);c[e].get(t).staged=!0,h(e)}function h(e){const t=Array.from(c[e]);t.every(([e,t])=>t.staged)&&(t.sort((e,t)=>e[1].priority-t[1].priority),t.forEach(([t])=>{c[e].delete(t),p(e,t)}))}function p(e,t,r=!0){const s=e?i.ee.get(e):i.ee,c=o.i.handlers;if(!s.aborted&&s.backlog&&c){if((0,n.W)({agentIdentifier:e,type:"lifecycle",name:"drain",feature:t}),r){const e=s.backlog[t],r=c[t];if(r){for(let t=0;e&&t<e.length;++t)g(e[t],r);Object.entries(r).forEach(([e,t])=>{Object.values(t||{}).forEach(t=>{t[0]?.on&&t[0]?.context()instanceof a.y&&t[0].on(e,t[1])})})}}s.isolatedBacklog||delete c[t],s.backlog[t]=null,s.emit("drain-"+t,[])}}function g(e,t){var r=e[1];Object.values(t[r]||{}).forEach(t=>{var r=e[0];if(t[0]===r){var n=t[1],i=e[3],o=e[2];n.apply(i,o)}})}},1741:(e,t,r)=>{"use strict";r.d(t,{W:()=>o});var n=r(944),i=r(4261);class o{#e(e,...t){if(this[e]!==o.prototype[e])return this[e](...t);(0,n.R)(35,e)}addPageAction(e,t){return this.#e(i.hG,e,t)}register(e){return this.#e(i.eY,e)}recordCustomEvent(e,t){return this.#e(i.fF,e,t)}setPageViewName(e,t){return this.#e(i.Fw,e,t)}setCustomAttribute(e,t,r){return this.#e(i.cD,e,t,r)}noticeError(e,t){return this.#e(i.o5,e,t)}setUserId(e){return this.#e(i.Dl,e)}setApplicationVersion(e){return this.#e(i.nb,e)}setErrorHandler(e){return this.#e(i.bt,e)}addRelease(e,t){return this.#e(i.k6,e,t)}log(e,t){return this.#e(i.$9,e,t)}start(){return this.#e(i.d3)}finished(e){return this.#e(i.BL,e)}recordReplay(){return this.#e(i.CH)}pauseReplay(){return this.#e(i.Tb)}addToTrace(e){return this.#e(i.U2,e)}setCurrentRouteName(e){return this.#e(i.PA,e)}interaction(e){return this.#e(i.dT,e)}wrapLogger(e,t,r){return this.#e(i.Wb,e,t,r)}measure(e,t){return this.#e(i.V1,e,t)}consent(e){return this.#e(i.Pv,e)}}},1863:(e,t,r)=>{"use strict";function n(){return Math.floor(performance.now())}r.d(t,{t:()=>n})},1910:(e,t,r)=>{"use strict";r.d(t,{i:()=>o});var n=r(944);const i=new Map;function o(...e){return e.every(e=>{if(i.has(e))return i.get(e);const t="function"==typeof e&&e.toString().includes("[native code]");return t||(0,n.R)(64,e?.name||e?.toString()),i.set(e,t),t})}},2555:(e,t,r)=>{"use strict";r.d(t,{D:()=>a,f:()=>s});var n=r(384),i=r(8122);const o={beacon:n.NT.beacon,errorBeacon:n.NT.errorBeacon,licenseKey:void 0,applicationID:void 0,sa:void 0,queueTime:void 0,applicationTime:void 0,ttGuid:void 0,user:void 0,account:void 0,product:void 0,extra:void 0,jsAttributes:{},userAttributes:void 0,atts:void 0,transactionName:void 0,tNamePlain:void 0};function s(e){try{return!!e.licenseKey&&!!e.errorBeacon&&!!e.applicationID}catch(e){return!1}}const a=e=>(0,i.a)(e,o)},2614:(e,t,r)=>{"use strict";r.d(t,{BB:()=>s,H3:()=>n,g:()=>u,iL:()=>c,tS:()=>a,uh:()=>i,wk:()=>o});const n="NRBA",i="SESSION",o=144e5,s=18e5,a={STARTED:"session-started",PAUSE:"session-pause",RESET:"session-reset",RESUME:"session-resume",UPDATE:"session-update"},c={SAME_TAB:"same-tab",CROSS_TAB:"cross-tab"},u={OFF:0,FULL:1,ERROR:2}},2646:(e,t,r)=>{"use strict";r.d(t,{y:()=>n});class n{constructor(e){this.contextId=e}}},2843:(e,t,r)=>{"use strict";r.d(t,{u:()=>i});var n=r(3878);function i(e,t=!1,r,i){(0,n.DD)("visibilitychange",function(){if(t)return void("hidden"===document.visibilityState&&e());e(document.visibilityState)},r,i)}},3241:(e,t,r)=>{"use strict";r.d(t,{W:()=>o});var n=r(6154);const i="newrelic";function o(e={}){try{n.gm.dispatchEvent(new CustomEvent(i,{detail:e}))}catch(e){}}},3304:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(7836);const i=()=>{const e=new WeakSet;return(t,r)=>{if("object"==typeof r&&null!==r){if(e.has(r))return;e.add(r)}return r}};function o(e){try{return JSON.stringify(e,i())??""}catch(e){try{n.ee.emit("internal-error",[e])}catch(e){}return""}}},3333:(e,t,r)=>{"use strict";r.d(t,{$v:()=>d,TZ:()=>n,Xh:()=>c,Zp:()=>i,kd:()=>u,mq:()=>a,nf:()=>s,qN:()=>o});const n=r(860).K7.genericEvents,i=["auxclick","click","copy","keydown","paste","scrollend"],o=["focus","blur"],s=4,a=1e3,c=2e3,u=["PageAction","UserAction","BrowserPerformance"],d={RESOURCES:"experimental.resources",REGISTER:"register"}},3434:(e,t,r)=>{"use strict";r.d(t,{Jt:()=>o,YM:()=>u});var n=r(7836),i=r(5607);const o="nr@original:".concat(i.W),s=50;var a=Object.prototype.hasOwnProperty,c=!1;function u(e,t){return e||(e=n.ee),r.inPlace=function(e,t,n,i,o){n||(n="");const s="-"===n.charAt(0);for(let a=0;a<t.length;a++){const c=t[a],u=e[c];l(u)||(e[c]=r(u,s?c+n:n,i,c,o))}},r.flag=o,r;function r(t,r,n,c,u){return l(t)?t:(r||(r=""),nrWrapper[o]=t,function(e,t,r){if(Object.defineProperty&&Object.keys)try{return Object.keys(e).forEach(function(r){Object.defineProperty(t,r,{get:function(){return e[r]},set:function(t){return e[r]=t,t}})}),t}catch(e){d([e],r)}for(var n in e)a.call(e,n)&&(t[n]=e[n])}(t,nrWrapper,e),nrWrapper);function nrWrapper(){var o,a,l,f;let h;try{a=this,o=[...arguments],l="function"==typeof n?n(o,a):n||{}}catch(t){d([t,"",[o,a,c],l],e)}i(r+"start",[o,a,c],l,u);const p=performance.now();let g;try{return f=t.apply(a,o),g=performance.now(),f}catch(e){throw g=performance.now(),i(r+"err",[o,a,e],l,u),h=e,h}finally{const e=g-p,t={start:p,end:g,duration:e,isLongTask:e>=s,methodName:c,thrownError:h};t.isLongTask&&i("long-task",[t,a],l,u),i(r+"end",[o,a,f],l,u)}}}function i(r,n,i,o){if(!c||t){var s=c;c=!0;try{e.emit(r,n,i,t,o)}catch(t){d([t,r,n,i],e)}c=s}}}function d(e,t){t||(t=n.ee);try{t.emit("internal-error",e)}catch(e){}}function l(e){return!(e&&"function"==typeof e&&e.apply&&!e[o])}},3606:(e,t,r)=>{"use strict";r.d(t,{i:()=>o});var n=r(9908);o.on=s;var i=o.handlers={};function o(e,t,r,o){s(o||n.d,i,e,t,r)}function s(e,t,r,i,o){o||(o="feature"),e||(e=n.d);var s=t[o]=t[o]||{};(s[r]=s[r]||[]).push([e,i])}},3738:(e,t,r)=>{"use strict";r.d(t,{He:()=>i,Kp:()=>a,Lc:()=>u,Rz:()=>d,TZ:()=>n,bD:()=>o,d3:()=>s,jx:()=>l,sl:()=>f,uP:()=>c});const n=r(860).K7.sessionTrace,i="bstResource",o="resource",s="-start",a="-end",c="fn"+s,u="fn"+a,d="pushState",l=1e3,f=3e4},3785:(e,t,r)=>{"use strict";r.d(t,{R:()=>c,b:()=>u});var n=r(9908),i=r(1863),o=r(860),s=r(8154),a=r(993);function c(e,t,r={},c=a.p_.INFO,u,d=(0,i.t)()){(0,n.p)(s.xV,["API/logging/".concat(c.toLowerCase(),"/called")],void 0,o.K7.metrics,e),(0,n.p)(a.ET,[d,t,r,c,u],void 0,o.K7.logging,e)}function u(e){return"string"==typeof e&&Object.values(a.p_).some(t=>t===e.toUpperCase().trim())}},3878:(e,t,r)=>{"use strict";function n(e,t){return{capture:e,passive:!1,signal:t}}function i(e,t,r=!1,i){window.addEventListener(e,t,n(r,i))}function o(e,t,r=!1,i){document.addEventListener(e,t,n(r,i))}r.d(t,{DD:()=>o,jT:()=>n,sp:()=>i})},3962:(e,t,r)=>{"use strict";r.d(t,{AM:()=>s,O2:()=>l,OV:()=>o,Qu:()=>f,TZ:()=>c,ih:()=>h,pP:()=>a,t1:()=>d,tC:()=>i,wD:()=>u});var n=r(860);const i=["click","keydown","submit"],o="popstate",s="api",a="initialPageLoad",c=n.K7.softNav,u=5e3,d=500,l={INITIAL_PAGE_LOAD:"",ROUTE_CHANGE:1,UNSPECIFIED:2},f={INTERACTION:1,AJAX:2,CUSTOM_END:3,CUSTOM_TRACER:4},h={IP:"in progress",PF:"pending finish",FIN:"finished",CAN:"cancelled"}},4234:(e,t,r)=>{"use strict";r.d(t,{W:()=>o});var n=r(7836),i=r(1687);class o{constructor(e,t){this.agentIdentifier=e,this.ee=n.ee.get(e),this.featureName=t,this.blocked=!1}deregisterDrain(){(0,i.x3)(this.agentIdentifier,this.featureName)}}},4261:(e,t,r)=>{"use strict";r.d(t,{$9:()=>d,BL:()=>c,CH:()=>p,Dl:()=>R,Fw:()=>w,PA:()=>v,Pl:()=>n,Pv:()=>A,Tb:()=>f,U2:()=>s,V1:()=>E,Wb:()=>T,bt:()=>y,cD:()=>b,d3:()=>x,dT:()=>u,eY:()=>g,fF:()=>h,hG:()=>o,hw:()=>i,k6:()=>a,nb:()=>m,o5:()=>l});const n="api-",i=n+"ixn-",o="addPageAction",s="addToTrace",a="addRelease",c="finished",u="interaction",d="log",l="noticeError",f="pauseReplay",h="recordCustomEvent",p="recordReplay",g="register",m="setApplicationVersion",v="setCurrentRouteName",b="setCustomAttribute",y="setErrorHandler",w="setPageViewName",R="setUserId",x="start",T="wrapLogger",E="measure",A="consent"},4387:(e,t,r)=>{"use strict";function n(e={}){return!(!e.id||!e.name)}function i(e){return"string"==typeof e&&e.trim().length<501||"number"==typeof e}function o(e,t){if(2!==t?.harvestEndpointVersion)return{};const r=t.agentRef.runtime.appMetadata.agents[0].entityGuid;return n(e)?{"mfe.id":e.id,"mfe.name":e.name,eventSource:e.eventSource,"parent.id":e.parent?.id||r}:{"entity.guid":r,appId:t.agentRef.info.applicationID}}r.d(t,{Ux:()=>o,c7:()=>n,yo:()=>i})},5205:(e,t,r)=>{"use strict";r.d(t,{j:()=>_});var n=r(384),i=r(1741);var o=r(2555),s=r(3333);const a=e=>{if(!e||"string"!=typeof e)return!1;try{document.createDocumentFragment().querySelector(e)}catch{return!1}return!0};var c=r(2614),u=r(944),d=r(8122);const l="[data-nr-mask]",f=e=>(0,d.a)(e,(()=>{const e={feature_flags:[],experimental:{allow_registered_children:!1,resources:!1},mask_selector:"*",block_selector:"[data-nr-block]",mask_input_options:{color:!1,date:!1,"datetime-local":!1,email:!1,month:!1,number:!1,range:!1,search:!1,tel:!1,text:!1,time:!1,url:!1,week:!1,textarea:!1,select:!1,password:!0}};return{ajax:{deny_list:void 0,block_internal:!0,enabled:!0,autoStart:!0},api:{get allow_registered_children(){return e.feature_flags.includes(s.$v.REGISTER)||e.experimental.allow_registered_children},set allow_registered_children(t){e.experimental.allow_registered_children=t},duplicate_registered_data:!1},browser_consent_mode:{enabled:!1},distributed_tracing:{enabled:void 0,exclude_newrelic_header:void 0,cors_use_newrelic_header:void 0,cors_use_tracecontext_headers:void 0,allowed_origins:void 0},get feature_flags(){return e.feature_flags},set feature_flags(t){e.feature_flags=t},generic_events:{enabled:!0,autoStart:!0},harvest:{interval:30},jserrors:{enabled:!0,autoStart:!0},logging:{enabled:!0,autoStart:!0},metrics:{enabled:!0,autoStart:!0},obfuscate:void 0,page_action:{enabled:!0},page_view_event:{enabled:!0,autoStart:!0},page_view_timing:{enabled:!0,autoStart:!0},performance:{capture_marks:!1,capture_measures:!1,capture_detail:!0,resources:{get enabled(){return e.feature_flags.includes(s.$v.RESOURCES)||e.experimental.resources},set enabled(t){e.experimental.resources=t},asset_types:[],first_party_domains:[],ignore_newrelic:!0}},privacy:{cookies_enabled:!0},proxy:{assets:void 0,beacon:void 0},session:{expiresMs:c.wk,inactiveMs:c.BB},session_replay:{autoStart:!0,enabled:!1,preload:!1,sampling_rate:10,error_sampling_rate:100,collect_fonts:!1,inline_images:!1,fix_stylesheets:!0,mask_all_inputs:!0,get mask_text_selector(){return e.mask_selector},set mask_text_selector(t){a(t)?e.mask_selector="".concat(t,",").concat(l):""===t||null===t?e.mask_selector=l:(0,u.R)(5,t)},get block_class(){return"nr-block"},get ignore_class(){return"nr-ignore"},get mask_text_class(){return"nr-mask"},get block_selector(){return e.block_selector},set block_selector(t){a(t)?e.block_selector+=",".concat(t):""!==t&&(0,u.R)(6,t)},get mask_input_options(){return e.mask_input_options},set mask_input_options(t){t&&"object"==typeof t?e.mask_input_options={...t,password:!0}:(0,u.R)(7,t)}},session_trace:{enabled:!0,autoStart:!0},soft_navigations:{enabled:!0,autoStart:!0},spa:{enabled:!0,autoStart:!0},ssl:void 0,user_actions:{enabled:!0,elementAttributes:["id","className","tagName","type"]}}})());var h=r(6154),p=r(9324);let g=0;const m={buildEnv:p.F3,distMethod:p.Xs,version:p.xv,originTime:h.WN},v={consented:!1},b={appMetadata:{},get consented(){return this.session?.state?.consent||v.consented},set consented(e){v.consented=e},customTransaction:void 0,denyList:void 0,disabled:!1,harvester:void 0,isolatedBacklog:!1,isRecording:!1,loaderType:void 0,maxBytes:3e4,obfuscator:void 0,onerror:void 0,ptid:void 0,releaseIds:{},session:void 0,timeKeeper:void 0,registeredEntities:[],jsAttributesMetadata:{bytes:0},get harvestCount(){return++g}},y=e=>{const t=(0,d.a)(e,b),r=Object.keys(m).reduce((e,t)=>(e[t]={value:m[t],writable:!1,configurable:!0,enumerable:!0},e),{});return Object.defineProperties(t,r)};var w=r(5701);const R=e=>{const t=e.startsWith("http");e+="/",r.p=t?e:"https://"+e};var x=r(7836),T=r(3241);const E={accountID:void 0,trustKey:void 0,agentID:void 0,licenseKey:void 0,applicationID:void 0,xpid:void 0},A=e=>(0,d.a)(e,E),S=new Set;function _(e,t={},r,s){let{init:a,info:c,loader_config:u,runtime:d={},exposed:l=!0}=t;if(!c){const e=(0,n.pV)();a=e.init,c=e.info,u=e.loader_config}e.init=f(a||{}),e.loader_config=A(u||{}),c.jsAttributes??={},h.bv&&(c.jsAttributes.isWorker=!0),e.info=(0,o.D)(c);const p=e.init,g=[c.beacon,c.errorBeacon];S.has(e.agentIdentifier)||(p.proxy.assets&&(R(p.proxy.assets),g.push(p.proxy.assets)),p.proxy.beacon&&g.push(p.proxy.beacon),e.beacons=[...g],function(e){const t=(0,n.pV)();Object.getOwnPropertyNames(i.W.prototype).forEach(r=>{const n=i.W.prototype[r];if("function"!=typeof n||"constructor"===n)return;let o=t[r];e[r]&&!1!==e.exposed&&"micro-agent"!==e.runtime?.loaderType&&(t[r]=(...t)=>{const n=e[r](...t);return o?o(...t):n})})}(e),(0,n.US)("activatedFeatures",w.B),e.runSoftNavOverSpa&&=!0===p.soft_navigations.enabled&&p.feature_flags.includes("soft_nav")),d.denyList=[...p.ajax.deny_list||[],...p.ajax.block_internal?g:[]],d.ptid=e.agentIdentifier,d.loaderType=r,e.runtime=y(d),S.has(e.agentIdentifier)||(e.ee=x.ee.get(e.agentIdentifier),e.exposed=l,(0,T.W)({agentIdentifier:e.agentIdentifier,drained:!!w.B?.[e.agentIdentifier],type:"lifecycle",name:"initialize",feature:void 0,data:e.config})),S.add(e.agentIdentifier)}},5270:(e,t,r)=>{"use strict";r.d(t,{Aw:()=>s,SR:()=>o,rF:()=>a});var n=r(384),i=r(7767);function o(e){return!!(0,n.dV)().o.MO&&(0,i.V)(e)&&!0===e?.session_trace.enabled}function s(e){return!0===e?.session_replay.preload&&o(e)}function a(e,t){try{if("string"==typeof t?.type){if("password"===t.type.toLowerCase())return"*".repeat(e?.length||0);if(void 0!==t?.dataset?.nrUnmask||t?.classList?.contains("nr-unmask"))return e}}catch(e){}return"string"==typeof e?e.replace(/[\S]/g,"*"):"*".repeat(e?.length||0)}},5289:(e,t,r)=>{"use strict";r.d(t,{GG:()=>o,Qr:()=>a,sB:()=>s});var n=r(3878);function i(){return"undefined"==typeof document||"complete"===document.readyState}function o(e,t){if(i())return e();(0,n.sp)("load",e,t)}function s(e){if(i())return e();(0,n.DD)("DOMContentLoaded",e)}function a(e){if(i())return e();(0,n.sp)("popstate",e)}},5607:(e,t,r)=>{"use strict";r.d(t,{W:()=>n});const n=(0,r(9566).bz)()},5701:(e,t,r)=>{"use strict";r.d(t,{B:()=>o,t:()=>s});var n=r(3241);const i=new Set,o={};function s(e,t){const r=t.agentIdentifier;o[r]??={},e&&"object"==typeof e&&(i.has(r)||(t.ee.emit("rumresp",[e]),o[r]=e,i.add(r),(0,n.W)({agentIdentifier:r,loaded:!0,drained:!0,type:"lifecycle",name:"load",feature:void 0,data:e})))}},6154:(e,t,r)=>{"use strict";r.d(t,{A4:()=>a,OF:()=>d,RI:()=>i,WN:()=>h,bv:()=>o,gm:()=>s,lR:()=>f,m:()=>u,mw:()=>c,sb:()=>l});var n=r(1863);const i="undefined"!=typeof window&&!!window.document,o="undefined"!=typeof WorkerGlobalScope&&("undefined"!=typeof self&&self instanceof WorkerGlobalScope&&self.navigator instanceof WorkerNavigator||"undefined"!=typeof globalThis&&globalThis instanceof WorkerGlobalScope&&globalThis.navigator instanceof WorkerNavigator),s=i?window:"undefined"!=typeof WorkerGlobalScope&&("undefined"!=typeof self&&self instanceof WorkerGlobalScope&&self||"undefined"!=typeof globalThis&&globalThis instanceof WorkerGlobalScope&&globalThis),a="complete"===s?.document?.readyState,c=Boolean("hidden"===s?.document?.visibilityState),u=""+s?.location,d=/iPad|iPhone|iPod/.test(s.navigator?.userAgent),l=d&&"undefined"==typeof SharedWorker,f=(()=>{const e=s.navigator?.userAgent?.match(/Firefox[/\s](\d+\.\d+)/);return Array.isArray(e)&&e.length>=2?+e[1]:0})(),h=Date.now()-(0,n.t)()},6344:(e,t,r)=>{"use strict";r.d(t,{BB:()=>d,Qb:()=>l,TZ:()=>i,Ug:()=>s,Vh:()=>o,_s:()=>a,bc:()=>u,yP:()=>c});var n=r(2614);const i=r(860).K7.sessionReplay,o="errorDuringReplay",s=.12,a={DomContentLoaded:0,Load:1,FullSnapshot:2,IncrementalSnapshot:3,Meta:4,Custom:5},c={[n.g.ERROR]:15e3,[n.g.FULL]:3e5,[n.g.OFF]:0},u={RESET:{message:"Session was reset",sm:"Reset"},IMPORT:{message:"Recorder failed to import",sm:"Import"},TOO_MANY:{message:"429: Too Many Requests",sm:"Too-Many"},TOO_BIG:{message:"Payload was too large",sm:"Too-Big"},CROSS_TAB:{message:"Session Entity was set to OFF on another tab",sm:"Cross-Tab"},ENTITLEMENTS:{message:"Session Replay is not allowed and will not be started",sm:"Entitlement"}},d=5e3,l={API:"api",RESUME:"resume",SWITCH_TO_FULL:"switchToFull",INITIALIZE:"initialize",PRELOAD:"preload"}},6389:(e,t,r)=>{"use strict";function n(e,t=500,r={}){const n=r?.leading||!1;let i;return(...r)=>{n&&void 0===i&&(e.apply(this,r),i=setTimeout(()=>{i=clearTimeout(i)},t)),n||(clearTimeout(i),i=setTimeout(()=>{e.apply(this,r)},t))}}function i(e){let t=!1;return(...r)=>{t||(t=!0,e.apply(this,r))}}r.d(t,{J:()=>i,s:()=>n})},6630:(e,t,r)=>{"use strict";r.d(t,{T:()=>n});const n=r(860).K7.pageViewEvent},6774:(e,t,r)=>{"use strict";r.d(t,{T:()=>n});const n=r(860).K7.jserrors},7295:(e,t,r)=>{"use strict";r.d(t,{Xv:()=>s,gX:()=>i,iW:()=>o});var n=[];function i(e){if(!e||o(e))return!1;if(0===n.length)return!0;for(var t=0;t<n.length;t++){var r=n[t];if("*"===r.hostname)return!1;if(a(r.hostname,e.hostname)&&c(r.pathname,e.pathname))return!1}return!0}function o(e){return void 0===e.hostname}function s(e){if(n=[],e&&e.length)for(var t=0;t<e.length;t++){let r=e[t];if(!r)continue;0===r.indexOf("http://")?r=r.substring(7):0===r.indexOf("https://")&&(r=r.substring(8));const i=r.indexOf("/");let o,s;i>0?(o=r.substring(0,i),s=r.substring(i)):(o=r,s="");let[a]=o.split(":");n.push({hostname:a,pathname:s})}}function a(e,t){return!(e.length>t.length)&&t.indexOf(e)===t.length-e.length}function c(e,t){return 0===e.indexOf("/")&&(e=e.substring(1)),0===t.indexOf("/")&&(t=t.substring(1)),""===e||e===t}},7378:(e,t,r)=>{"use strict";r.d(t,{$p:()=>x,BR:()=>b,Kp:()=>R,L3:()=>y,Lc:()=>c,NC:()=>o,SG:()=>d,TZ:()=>i,U6:()=>p,UT:()=>m,d3:()=>w,dT:()=>f,e5:()=>E,gx:()=>v,l9:()=>l,oW:()=>h,op:()=>g,rw:()=>u,tH:()=>A,uP:()=>a,wW:()=>T,xq:()=>s});var n=r(384);const i=r(860).K7.spa,o=["click","submit","keypress","keydown","keyup","change"],s=999,a="fn-start",c="fn-end",u="cb-start",d="api-ixn-",l="remaining",f="interaction",h="spaNode",p="jsonpNode",g="fetch-start",m="fetch-done",v="fetch-body-",b="jsonp-end",y=(0,n.dV)().o.ST,w="-start",R="-end",x="-body",T="cb"+R,E="jsTime",A="fetch"},7485:(e,t,r)=>{"use strict";r.d(t,{D:()=>i});var n=r(6154);function i(e){if(0===(e||"").indexOf("data:"))return{protocol:"data"};try{const t=new URL(e,location.href),r={port:t.port,hostname:t.hostname,pathname:t.pathname,search:t.search,protocol:t.protocol.slice(0,t.protocol.indexOf(":")),sameOrigin:t.protocol===n.gm?.location?.protocol&&t.host===n.gm?.location?.host};return r.port&&""!==r.port||("http:"===t.protocol&&(r.port="80"),"https:"===t.protocol&&(r.port="443")),r.pathname&&""!==r.pathname?r.pathname.startsWith("/")||(r.pathname="/".concat(r.pathname)):r.pathname="/",r}catch(e){return{}}}},7699:(e,t,r)=>{"use strict";r.d(t,{It:()=>o,KC:()=>a,No:()=>i,qh:()=>s});var n=r(860);const i=16e3,o=1e6,s="SESSION_ERROR",a={[n.K7.logging]:!0,[n.K7.genericEvents]:!1,[n.K7.jserrors]:!1,[n.K7.ajax]:!1}},7767:(e,t,r)=>{"use strict";r.d(t,{V:()=>i});var n=r(6154);const i=e=>n.RI&&!0===e?.privacy.cookies_enabled},7836:(e,t,r)=>{"use strict";r.d(t,{P:()=>a,ee:()=>c});var n=r(384),i=r(8990),o=r(2646),s=r(5607);const a="nr@context:".concat(s.W),c=function e(t,r){var n={},s={},d={},l=!1;try{l=16===r.length&&u.initializedAgents?.[r]?.runtime.isolatedBacklog}catch(e){}var f={on:p,addEventListener:p,removeEventListener:function(e,t){var r=n[e];if(!r)return;for(var i=0;i<r.length;i++)r[i]===t&&r.splice(i,1)},emit:function(e,r,n,i,o){!1!==o&&(o=!0);if(c.aborted&&!i)return;t&&o&&t.emit(e,r,n);var a=h(n);g(e).forEach(e=>{e.apply(a,r)});var u=v()[s[e]];u&&u.push([f,e,r,a]);return a},get:m,listeners:g,context:h,buffer:function(e,t){const r=v();if(t=t||"feature",f.aborted)return;Object.entries(e||{}).forEach(([e,n])=>{s[n]=t,t in r||(r[t]=[])})},abort:function(){f._aborted=!0,Object.keys(f.backlog).forEach(e=>{delete f.backlog[e]})},isBuffering:function(e){return!!v()[s[e]]},debugId:r,backlog:l?{}:t&&"object"==typeof t.backlog?t.backlog:{},isolatedBacklog:l};return Object.defineProperty(f,"aborted",{get:()=>{let e=f._aborted||!1;return e||(t&&(e=t.aborted),e)}}),f;function h(e){return e&&e instanceof o.y?e:e?(0,i.I)(e,a,()=>new o.y(a)):new o.y(a)}function p(e,t){n[e]=g(e).concat(t)}function g(e){return n[e]||[]}function m(t){return d[t]=d[t]||e(f,t)}function v(){return f.backlog}}(void 0,"globalEE"),u=(0,n.Zm)();u.ee||(u.ee=c)},8122:(e,t,r)=>{"use strict";r.d(t,{a:()=>i});var n=r(944);function i(e,t){try{if(!e||"object"!=typeof e)return(0,n.R)(3);if(!t||"object"!=typeof t)return(0,n.R)(4);const r=Object.create(Object.getPrototypeOf(t),Object.getOwnPropertyDescriptors(t)),o=0===Object.keys(r).length?e:r;for(let s in o)if(void 0!==e[s])try{if(null===e[s]){r[s]=null;continue}Array.isArray(e[s])&&Array.isArray(t[s])?r[s]=Array.from(new Set([...e[s],...t[s]])):"object"==typeof e[s]&&"object"==typeof t[s]?r[s]=i(e[s],t[s]):r[s]=e[s]}catch(e){r[s]||(0,n.R)(1,e)}return r}catch(e){(0,n.R)(2,e)}}},8139:(e,t,r)=>{"use strict";r.d(t,{u:()=>f});var n=r(7836),i=r(3434),o=r(8990),s=r(6154);const a={},c=s.gm.XMLHttpRequest,u="addEventListener",d="removeEventListener",l="nr@wrapped:".concat(n.P);function f(e){var t=function(e){return(e||n.ee).get("events")}(e);if(a[t.debugId]++)return t;a[t.debugId]=1;var r=(0,i.YM)(t,!0);function f(e){r.inPlace(e,[u,d],"-",p)}function p(e,t){return e[1]}return"getPrototypeOf"in Object&&(s.RI&&h(document,f),c&&h(c.prototype,f),h(s.gm,f)),t.on(u+"-start",function(e,t){var n=e[1];if(null!==n&&("function"==typeof n||"object"==typeof n)&&"newrelic"!==e[0]){var i=(0,o.I)(n,l,function(){var e={object:function(){if("function"!=typeof n.handleEvent)return;return n.handleEvent.apply(n,arguments)},function:n}[typeof n];return e?r(e,"fn-",null,e.name||"anonymous"):n});this.wrapped=e[1]=i}}),t.on(d+"-start",function(e){e[1]=this.wrapped||e[1]}),t}function h(e,t,...r){let n=e;for(;"object"==typeof n&&!Object.prototype.hasOwnProperty.call(n,u);)n=Object.getPrototypeOf(n);n&&t(n,...r)}},8154:(e,t,r)=>{"use strict";r.d(t,{z_:()=>o,XG:()=>a,TZ:()=>n,rs:()=>i,xV:()=>s});r(6154),r(9566),r(384);const n=r(860).K7.metrics,i="sm",o="cm",s="storeSupportabilityMetrics",a="storeEventMetrics"},8374:(e,t,r)=>{r.nc=(()=>{try{return document?.currentScript?.nonce}catch(e){}return""})()},8990:(e,t,r)=>{"use strict";r.d(t,{I:()=>i});var n=Object.prototype.hasOwnProperty;function i(e,t,r){if(n.call(e,t))return e[t];var i=r();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(e,t,{value:i,writable:!0,enumerable:!1}),i}catch(e){}return e[t]=i,i}},9300:(e,t,r)=>{"use strict";r.d(t,{T:()=>n});const n=r(860).K7.ajax},9324:(e,t,r)=>{"use strict";r.d(t,{AJ:()=>s,F3:()=>i,Xs:()=>o,Yq:()=>a,xv:()=>n});const n="1.303.0",i="PROD",o="CDN",s="@newrelic/rrweb",a="1.0.1"},9566:(e,t,r)=>{"use strict";r.d(t,{LA:()=>a,ZF:()=>c,bz:()=>s,el:()=>u});var n=r(6154);const i="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx";function o(e,t){return e?15&e[t]:16*Math.random()|0}function s(){const e=n.gm?.crypto||n.gm?.msCrypto;let t,r=0;return e&&e.getRandomValues&&(t=e.getRandomValues(new Uint8Array(30))),i.split("").map(e=>"x"===e?o(t,r++).toString(16):"y"===e?(3&o()|8).toString(16):e).join("")}function a(e){const t=n.gm?.crypto||n.gm?.msCrypto;let r,i=0;t&&t.getRandomValues&&(r=t.getRandomValues(new Uint8Array(e)));const s=[];for(var a=0;a<e;a++)s.push(o(r,i++).toString(16));return s.join("")}function c(){return a(16)}function u(){return a(32)}},9908:(e,t,r)=>{"use strict";r.d(t,{d:()=>n,p:()=>i});var n=r(7836).ee.get("handle");function i(e,t,r,i,o){o?(o.buffer([e],i),o.emit(e,t,r)):(n.buffer([e],i),n.emit(e,t,r))}}},n={};function i(e){var t=n[e];if(void 0!==t)return t.exports;var o=n[e]={exports:{}};return r[e](o,o.exports,i),o.exports}i.m=r,i.d=(e,t)=>{for(var r in t)i.o(t,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce((t,r)=>(i.f[r](e,t),t),[])),i.u=e=>({212:"nr-spa-compressor",249:"nr-spa-recorder",478:"nr-spa"}[e]+"-1.303.0.min.js"),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="NRBA-1.303.0.PROD:",i.l=(r,n,o,s)=>{if(e[r])e[r].push(n);else{var a,c;if(void 0!==o)for(var u=document.getElementsByTagName("script"),d=0;d<u.length;d++){var l=u[d];if(l.getAttribute("src")==r||l.getAttribute("data-webpack")==t+o){a=l;break}}if(!a){c=!0;var f={478:"sha512-Q1pLqcoiNmLHv0rtq3wFkJBA3kofBdRJl0ExDl0mTuAoCBd0qe/1J0XWrDlQKuNlUryL6aZfVkAMPLmoikWIoQ==",249:"sha512-695ZzudsxlMtHKnpDNvkMlJd3tdMtY03IQKVCw9SX12tjUC+f7Nrx5tnWO72Vg9RFf6DSY6wVmM3cEkRM12kkQ==",212:"sha512-18Gx1wIBsppcn0AnKFhwgw4IciNgFxiw3J74W393Ape+wtg4hlg7t6SBKsIE/Dk/tfl2yltgcgBFvYRs283AFg=="};(a=document.createElement("script")).charset="utf-8",i.nc&&a.setAttribute("nonce",i.nc),a.setAttribute("data-webpack",t+o),a.src=r,0!==a.src.indexOf(window.location.origin+"/")&&(a.crossOrigin="anonymous"),f[s]&&(a.integrity=f[s])}e[r]=[n];var h=(t,n)=>{a.onerror=a.onload=null,clearTimeout(p);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach(e=>e(n)),t)return t(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),c&&document.head.appendChild(a)}},i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.p="https://js-agent.newrelic.com/",(()=>{var e={38:0,788:0};i.f.j=(t,r)=>{var n=i.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var o=new Promise((r,i)=>n=e[t]=[r,i]);r.push(n[2]=o);var s=i.p+i.u(t),a=new Error;i.l(s,r=>{if(i.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var o=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",a.name="ChunkLoadError",a.type=o,a.request=s,n[1](a)}},"chunk-"+t,t)}};var t=(t,r)=>{var n,o,[s,a,c]=r,u=0;if(s.some(t=>0!==e[t])){for(n in a)i.o(a,n)&&(i.m[n]=a[n]);if(c)c(i)}for(t&&t(r);u<s.length;u++)o=s[u],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self["webpackChunk:NRBA-1.303.0.PROD"]=self["webpackChunk:NRBA-1.303.0.PROD"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";i(8374);var e=i(9566),t=i(1741);class r extends t.W{agentIdentifier=(0,e.LA)(16)}var n=i(860);const o=Object.values(n.K7);var s=i(5205);var a=i(9908),c=i(1863),u=i(4261),d=i(3241),l=i(944),f=i(5701),h=i(8154);function p(e,t,i,o){const s=o||i;!s||s[e]&&s[e]!==r.prototype[e]||(s[e]=function(){(0,a.p)(h.xV,["API/"+e+"/called"],void 0,n.K7.metrics,i.ee),(0,d.W)({agentIdentifier:i.agentIdentifier,drained:!!f.B?.[i.agentIdentifier],type:"data",name:"api",feature:u.Pl+e,data:{}});try{return t.apply(this,arguments)}catch(e){(0,l.R)(23,e)}})}function g(e,t,r,n,i){const o=e.info;null===r?delete o.jsAttributes[t]:o.jsAttributes[t]=r,(i||null===r)&&(0,a.p)(u.Pl+n,[(0,c.t)(),t,r],void 0,"session",e.ee)}var m=i(1687),v=i(4234),b=i(5289),y=i(6154),w=i(5270),R=i(7767),x=i(6389),T=i(7699);class E extends v.W{constructor(e,t){super(e.agentIdentifier,t),this.agentRef=e,this.abortHandler=void 0,this.featAggregate=void 0,this.loadedSuccessfully=void 0,this.onAggregateImported=new Promise(e=>{this.loadedSuccessfully=e}),this.deferred=Promise.resolve(),!1===e.init[this.featureName].autoStart?this.deferred=new Promise((t,r)=>{this.ee.on("manual-start-all",(0,x.J)(()=>{(0,m.Ak)(e.agentIdentifier,this.featureName),t()}))}):(0,m.Ak)(e.agentIdentifier,t)}importAggregator(e,t,r={}){if(this.featAggregate)return;const n=async()=>{let n;await this.deferred;try{if((0,R.V)(e.init)){const{setupAgentSession:t}=await i.e(478).then(i.bind(i,8766));n=t(e)}}catch(e){(0,l.R)(20,e),this.ee.emit("internal-error",[e]),(0,a.p)(T.qh,[e],void 0,this.featureName,this.ee)}try{if(!this.#t(this.featureName,n,e.init))return(0,m.Ze)(this.agentIdentifier,this.featureName),void this.loadedSuccessfully(!1);const{Aggregate:i}=await t();this.featAggregate=new i(e,r),e.runtime.harvester.initializedAggregates.push(this.featAggregate),this.loadedSuccessfully(!0)}catch(e){(0,l.R)(34,e),this.abortHandler?.(),(0,m.Ze)(this.agentIdentifier,this.featureName,!0),this.loadedSuccessfully(!1),this.ee&&this.ee.abort()}};y.RI?(0,b.GG)(()=>n(),!0):n()}#t(e,t,r){if(this.blocked)return!1;switch(e){case n.K7.sessionReplay:return(0,w.SR)(r)&&!!t;case n.K7.sessionTrace:return!!t;default:return!0}}}var A=i(6630),S=i(2614);class _ extends E{static featureName=A.T;constructor(e){var t;super(e,A.T),this.setupInspectionEvents(e.agentIdentifier),t=e,p(u.Fw,function(e,r){"string"==typeof e&&("/"!==e.charAt(0)&&(e="/"+e),t.runtime.customTransaction=(r||"http://custom.transaction")+e,(0,a.p)(u.Pl+u.Fw,[(0,c.t)()],void 0,void 0,t.ee))},t),this.importAggregator(e,()=>i.e(478).then(i.bind(i,1983)))}setupInspectionEvents(e){const t=(t,r)=>{t&&(0,d.W)({agentIdentifier:e,timeStamp:t.timeStamp,loaded:"complete"===t.target.readyState,type:"window",name:r,data:t.target.location+""})};(0,b.sB)(e=>{t(e,"DOMContentLoaded")}),(0,b.GG)(e=>{t(e,"load")}),(0,b.Qr)(e=>{t(e,"navigate")}),this.ee.on(S.tS.UPDATE,(t,r)=>{(0,d.W)({agentIdentifier:e,type:"lifecycle",name:"session",data:r})})}}var O=i(384);var N=i(2843),I=i(3878),P=i(782);class j extends E{static featureName=P.T;constructor(e){super(e,P.T),y.RI&&((0,N.u)(()=>(0,a.p)("docHidden",[(0,c.t)()],void 0,P.T,this.ee),!0),(0,I.sp)("pagehide",()=>(0,a.p)("winPagehide",[(0,c.t)()],void 0,P.T,this.ee)),this.importAggregator(e,()=>i.e(478).then(i.bind(i,9917))))}}class k extends E{static featureName=h.TZ;constructor(e){super(e,h.TZ),y.RI&&document.addEventListener("securitypolicyviolation",e=>{(0,a.p)(h.xV,["Generic/CSPViolation/Detected"],void 0,this.featureName,this.ee)}),this.importAggregator(e,()=>i.e(478).then(i.bind(i,6555)))}}var C=i(6774),L=i(3304);class H{constructor(e,t,r,n,i){this.name="UncaughtError",this.message="string"==typeof e?e:(0,L.A)(e),this.sourceURL=t,this.line=r,this.column=n,this.__newrelic=i}}function M(e){return U(e)?e:new H(void 0!==e?.message?e.message:e,e?.filename||e?.sourceURL,e?.lineno||e?.line,e?.colno||e?.col,e?.__newrelic,e?.cause)}function K(e){const t="Unhandled Promise Rejection: ";if(!e?.reason)return;if(U(e.reason)){try{e.reason.message.startsWith(t)||(e.reason.message=t+e.reason.message)}catch(e){}return M(e.reason)}const r=M(e.reason);return(r.message||"").startsWith(t)||(r.message=t+r.message),r}function D(e){if(e.error instanceof SyntaxError&&!/:\d+$/.test(e.error.stack?.trim())){const t=new H(e.message,e.filename,e.lineno,e.colno,e.error.__newrelic,e.cause);return t.name=SyntaxError.name,t}return U(e.error)?e.error:M(e)}function U(e){return e instanceof Error&&!!e.stack}function F(e,t,r,i,o=(0,c.t)()){"string"==typeof e&&(e=new Error(e)),(0,a.p)("err",[e,o,!1,t,r.runtime.isRecording,void 0,i],void 0,n.K7.jserrors,r.ee),(0,a.p)("uaErr",[],void 0,n.K7.genericEvents,r.ee)}var W=i(4387),B=i(993),V=i(3785);function G(e,{customAttributes:t={},level:r=B.p_.INFO}={},n,i,o=(0,c.t)()){(0,V.R)(n.ee,e,t,r,i,o)}function z(e,t,r,i,o=(0,c.t)()){(0,a.p)(u.Pl+u.hG,[o,e,t,i],void 0,n.K7.genericEvents,r.ee)}function Z(e,t,r,i,o=(0,c.t)()){const{start:s,end:d,customAttributes:f}=t||{},h={customAttributes:f||{}};if("object"!=typeof h.customAttributes||"string"!=typeof e||0===e.length)return void(0,l.R)(57);const p=(e,t)=>null==e?t:"number"==typeof e?e:e instanceof PerformanceMark?e.startTime:Number.NaN;if(h.start=p(s,0),h.end=p(d,o),Number.isNaN(h.start)||Number.isNaN(h.end))(0,l.R)(57);else{if(h.duration=h.end-h.start,!(h.duration<0))return(0,a.p)(u.Pl+u.V1,[h,e,i],void 0,n.K7.genericEvents,r.ee),h;(0,l.R)(58)}}function q(e,t={},r,i,o=(0,c.t)()){(0,a.p)(u.Pl+u.fF,[o,e,t,i],void 0,n.K7.genericEvents,r.ee)}function X(e){p(u.eY,function(t){return Y(e,t)},e)}function Y(e,t,r){const i={};(0,l.R)(54,"newrelic.register"),t||={},t.eventSource="MicroFrontendBrowserAgent",t.licenseKey||=e.info.licenseKey,t.blocked=!1,t.parent=r||{};let o=()=>{};const s=e.runtime.registeredEntities,u=s.find(({metadata:{target:{id:e,name:r}}})=>e===t.id);if(u)return u.metadata.target.name!==t.name&&(u.metadata.target.name=t.name),u;const d=e=>{t.blocked=!0,o=e};e.init.api.allow_registered_children||d((0,x.J)(()=>(0,l.R)(55))),(0,W.c7)(t)||d((0,x.J)(()=>(0,l.R)(48,t))),(0,W.yo)(t.id)&&(0,W.yo)(t.name)||d((0,x.J)(()=>(0,l.R)(48,t)));const f={addPageAction:(r,n={})=>m(z,[r,{...i,...n},e],t),log:(r,n={})=>m(G,[r,{...n,customAttributes:{...i,...n.customAttributes||{}}},e],t),measure:(r,n={})=>m(Z,[r,{...n,customAttributes:{...i,...n.customAttributes||{}}},e],t),noticeError:(r,n={})=>m(F,[r,{...i,...n},e],t),register:(t={})=>m(Y,[e,t],f.metadata.target),recordCustomEvent:(r,n={})=>m(q,[r,{...i,...n},e],t),setApplicationVersion:e=>g("application.version",e),setCustomAttribute:(e,t)=>g(e,t),setUserId:e=>g("enduser.id",e),metadata:{customAttributes:i,target:t}},p=()=>(t.blocked&&o(),t.blocked);p()||s.push(f);const g=(e,t)=>{p()||(i[e]=t)},m=(t,r,i)=>{if(p())return;const o=(0,c.t)();(0,a.p)(h.xV,["API/register/".concat(t.name,"/called")],void 0,n.K7.metrics,e.ee);try{return e.init.api.duplicate_registered_data&&"register"!==t.name&&t(...r,void 0,o),t(...r,i,o)}catch(e){(0,l.R)(50,e)}};return f}class J extends E{static featureName=C.T;constructor(e){var t;super(e,C.T),t=e,p(u.o5,(e,r)=>F(e,r,t),t),function(e){p(u.bt,function(t){e.runtime.onerror=t},e)}(e),function(e){let t=0;p(u.k6,function(e,r){++t>10||(this.runtime.releaseIds[e.slice(-200)]=(""+r).slice(-200))},e)}(e),X(e);try{this.removeOnAbort=new AbortController}catch(e){}this.ee.on("internal-error",(t,r)=>{this.abortHandler&&(0,a.p)("ierr",[M(t),(0,c.t)(),!0,{},e.runtime.isRecording,r],void 0,this.featureName,this.ee)}),y.gm.addEventListener("unhandledrejection",t=>{this.abortHandler&&(0,a.p)("err",[K(t),(0,c.t)(),!1,{unhandledPromiseRejection:1},e.runtime.isRecording],void 0,this.featureName,this.ee)},(0,I.jT)(!1,this.removeOnAbort?.signal)),y.gm.addEventListener("error",t=>{this.abortHandler&&(0,a.p)("err",[D(t),(0,c.t)(),!1,{},e.runtime.isRecording],void 0,this.featureName,this.ee)},(0,I.jT)(!1,this.removeOnAbort?.signal)),this.abortHandler=this.#r,this.importAggregator(e,()=>i.e(478).then(i.bind(i,2176)))}#r(){this.removeOnAbort?.abort(),this.abortHandler=void 0}}var Q=i(8990);let ee=1;function te(e){const t=typeof e;return!e||"object"!==t&&"function"!==t?-1:e===y.gm?0:(0,Q.I)(e,"nr@id",function(){return ee++})}function re(e){if("string"==typeof e&&e.length)return e.length;if("object"==typeof e){if("undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer&&e.byteLength)return e.byteLength;if("undefined"!=typeof Blob&&e instanceof Blob&&e.size)return e.size;if(!("undefined"!=typeof FormData&&e instanceof FormData))try{return(0,L.A)(e).length}catch(e){return}}}var ne=i(8139),ie=i(7836),oe=i(3434);const se={},ae=["open","send"];function ce(e){var t=e||ie.ee;const r=function(e){return(e||ie.ee).get("xhr")}(t);if(void 0===y.gm.XMLHttpRequest)return r;if(se[r.debugId]++)return r;se[r.debugId]=1,(0,ne.u)(t);var n=(0,oe.YM)(r),i=y.gm.XMLHttpRequest,o=y.gm.MutationObserver,s=y.gm.Promise,a=y.gm.setInterval,c="readystatechange",u=["onload","onerror","onabort","onloadstart","onloadend","onprogress","ontimeout"],d=[],f=y.gm.XMLHttpRequest=function(e){const t=new i(e),o=r.context(t);try{r.emit("new-xhr",[t],o),t.addEventListener(c,(s=o,function(){var e=this;e.readyState>3&&!s.resolved&&(s.resolved=!0,r.emit("xhr-resolved",[],e)),n.inPlace(e,u,"fn-",b)}),(0,I.jT)(!1))}catch(e){(0,l.R)(15,e);try{r.emit("internal-error",[e])}catch(e){}}var s;return t};function h(e,t){n.inPlace(t,["onreadystatechange"],"fn-",b)}if(function(e,t){for(var r in e)t[r]=e[r]}(i,f),f.prototype=i.prototype,n.inPlace(f.prototype,ae,"-xhr-",b),r.on("send-xhr-start",function(e,t){h(e,t),function(e){d.push(e),o&&(p?p.then(v):a?a(v):(g=-g,m.data=g))}(t)}),r.on("open-xhr-start",h),o){var p=s&&s.resolve();if(!a&&!s){var g=1,m=document.createTextNode(g);new o(v).observe(m,{characterData:!0})}}else t.on("fn-end",function(e){e[0]&&e[0].type===c||v()});function v(){for(var e=0;e<d.length;e++)h(0,d[e]);d.length&&(d=[])}function b(e,t){return t}return r}var ue="fetch-",de=ue+"body-",le=["arrayBuffer","blob","json","text","formData"],fe=y.gm.Request,he=y.gm.Response,pe="prototype";const ge={};function me(e){const t=function(e){return(e||ie.ee).get("fetch")}(e);if(!(fe&&he&&y.gm.fetch))return t;if(ge[t.debugId]++)return t;function r(e,r,n){var i=e[r];"function"==typeof i&&(e[r]=function(){var e,r=[...arguments],o={};t.emit(n+"before-start",[r],o),o[ie.P]&&o[ie.P].dt&&(e=o[ie.P].dt);var s=i.apply(this,r);return t.emit(n+"start",[r,e],s),s.then(function(e){return t.emit(n+"end",[null,e],s),e},function(e){throw t.emit(n+"end",[e],s),e})})}return ge[t.debugId]=1,le.forEach(e=>{r(fe[pe],e,de),r(he[pe],e,de)}),r(y.gm,"fetch",ue),t.on(ue+"end",function(e,r){var n=this;if(r){var i=r.headers.get("content-length");null!==i&&(n.rxSize=i),t.emit(ue+"done",[null,r],n)}else t.emit(ue+"done",[e],n)}),t}var ve=i(7485);class be{constructor(e){this.agentRef=e}generateTracePayload(t){const r=this.agentRef.loader_config;if(!this.shouldGenerateTrace(t)||!r)return null;var n=(r.accountID||"").toString()||null,i=(r.agentID||"").toString()||null,o=(r.trustKey||"").toString()||null;if(!n||!i)return null;var s=(0,e.ZF)(),a=(0,e.el)(),c=Date.now(),u={spanId:s,traceId:a,timestamp:c};return(t.sameOrigin||this.isAllowedOrigin(t)&&this.useTraceContextHeadersForCors())&&(u.traceContextParentHeader=this.generateTraceContextParentHeader(s,a),u.traceContextStateHeader=this.generateTraceContextStateHeader(s,c,n,i,o)),(t.sameOrigin&&!this.excludeNewrelicHeader()||!t.sameOrigin&&this.isAllowedOrigin(t)&&this.useNewrelicHeaderForCors())&&(u.newrelicHeader=this.generateTraceHeader(s,a,c,n,i,o)),u}generateTraceContextParentHeader(e,t){return"00-"+t+"-"+e+"-01"}generateTraceContextStateHeader(e,t,r,n,i){return i+"@nr=0-1-"+r+"-"+n+"-"+e+"----"+t}generateTraceHeader(e,t,r,n,i,o){if(!("function"==typeof y.gm?.btoa))return null;var s={v:[0,1],d:{ty:"Browser",ac:n,ap:i,id:e,tr:t,ti:r}};return o&&n!==o&&(s.d.tk=o),btoa((0,L.A)(s))}shouldGenerateTrace(e){return this.agentRef.init?.distributed_tracing?.enabled&&this.isAllowedOrigin(e)}isAllowedOrigin(e){var t=!1;const r=this.agentRef.init?.distributed_tracing;if(e.sameOrigin)t=!0;else if(r?.allowed_origins instanceof Array)for(var n=0;n<r.allowed_origins.length;n++){var i=(0,ve.D)(r.allowed_origins[n]);if(e.hostname===i.hostname&&e.protocol===i.protocol&&e.port===i.port){t=!0;break}}return t}excludeNewrelicHeader(){var e=this.agentRef.init?.distributed_tracing;return!!e&&!!e.exclude_newrelic_header}useNewrelicHeaderForCors(){var e=this.agentRef.init?.distributed_tracing;return!!e&&!1!==e.cors_use_newrelic_header}useTraceContextHeadersForCors(){var e=this.agentRef.init?.distributed_tracing;return!!e&&!!e.cors_use_tracecontext_headers}}var ye=i(9300),we=i(7295);function Re(e){return"string"==typeof e?e:e instanceof(0,O.dV)().o.REQ?e.url:y.gm?.URL&&e instanceof URL?e.href:void 0}var xe=["load","error","abort","timeout"],Te=xe.length,Ee=(0,O.dV)().o.REQ,Ae=(0,O.dV)().o.XHR;const Se="X-NewRelic-App-Data";class _e extends E{static featureName=ye.T;constructor(e){super(e,ye.T),this.dt=new be(e),this.handler=(e,t,r,n)=>(0,a.p)(e,t,r,n,this.ee);try{const e={xmlhttprequest:"xhr",fetch:"fetch",beacon:"beacon"};y.gm?.performance?.getEntriesByType("resource").forEach(t=>{if(t.initiatorType in e&&0!==t.responseStatus){const r={status:t.responseStatus},i={rxSize:t.transferSize,duration:Math.floor(t.duration),cbTime:0};Oe(r,t.name),this.handler("xhr",[r,i,t.startTime,t.responseEnd,e[t.initiatorType]],void 0,n.K7.ajax)}})}catch(e){}me(this.ee),ce(this.ee),function(e,t,r,i){function o(e){var t=this;t.totalCbs=0,t.called=0,t.cbTime=0,t.end=E,t.ended=!1,t.xhrGuids={},t.lastSize=null,t.loadCaptureCalled=!1,t.params=this.params||{},t.metrics=this.metrics||{},t.latestLongtaskEnd=0,e.addEventListener("load",function(r){A(t,e)},(0,I.jT)(!1)),y.lR||e.addEventListener("progress",function(e){t.lastSize=e.loaded},(0,I.jT)(!1))}function s(e){this.params={method:e[0]},Oe(this,e[1]),this.metrics={}}function u(t,r){e.loader_config.xpid&&this.sameOrigin&&r.setRequestHeader("X-NewRelic-ID",e.loader_config.xpid);var n=i.generateTracePayload(this.parsedOrigin);if(n){var o=!1;n.newrelicHeader&&(r.setRequestHeader("newrelic",n.newrelicHeader),o=!0),n.traceContextParentHeader&&(r.setRequestHeader("traceparent",n.traceContextParentHeader),n.traceContextStateHeader&&r.setRequestHeader("tracestate",n.traceContextStateHeader),o=!0),o&&(this.dt=n)}}function d(e,r){var n=this.metrics,i=e[0],o=this;if(n&&i){var s=re(i);s&&(n.txSize=s)}this.startTime=(0,c.t)(),this.body=i,this.listener=function(e){try{"abort"!==e.type||o.loadCaptureCalled||(o.params.aborted=!0),("load"!==e.type||o.called===o.totalCbs&&(o.onloadCalled||"function"!=typeof r.onload)&&"function"==typeof o.end)&&o.end(r)}catch(e){try{t.emit("internal-error",[e])}catch(e){}}};for(var a=0;a<Te;a++)r.addEventListener(xe[a],this.listener,(0,I.jT)(!1))}function l(e,t,r){this.cbTime+=e,t?this.onloadCalled=!0:this.called+=1,this.called!==this.totalCbs||!this.onloadCalled&&"function"==typeof r.onload||"function"!=typeof this.end||this.end(r)}function f(e,t){var r=""+te(e)+!!t;this.xhrGuids&&!this.xhrGuids[r]&&(this.xhrGuids[r]=!0,this.totalCbs+=1)}function p(e,t){var r=""+te(e)+!!t;this.xhrGuids&&this.xhrGuids[r]&&(delete this.xhrGuids[r],this.totalCbs-=1)}function g(){this.endTime=(0,c.t)()}function m(e,r){r instanceof Ae&&"load"===e[0]&&t.emit("xhr-load-added",[e[1],e[2]],r)}function v(e,r){r instanceof Ae&&"load"===e[0]&&t.emit("xhr-load-removed",[e[1],e[2]],r)}function b(e,t,r){t instanceof Ae&&("onload"===r&&(this.onload=!0),("load"===(e[0]&&e[0].type)||this.onload)&&(this.xhrCbStart=(0,c.t)()))}function w(e,r){this.xhrCbStart&&t.emit("xhr-cb-time",[(0,c.t)()-this.xhrCbStart,this.onload,r],r)}function R(e){var t,r=e[1]||{};if("string"==typeof e[0]?0===(t=e[0]).length&&y.RI&&(t=""+y.gm.location.href):e[0]&&e[0].url?t=e[0].url:y.gm?.URL&&e[0]&&e[0]instanceof URL?t=e[0].href:"function"==typeof e[0].toString&&(t=e[0].toString()),"string"==typeof t&&0!==t.length){t&&(this.parsedOrigin=(0,ve.D)(t),this.sameOrigin=this.parsedOrigin.sameOrigin);var n=i.generateTracePayload(this.parsedOrigin);if(n&&(n.newrelicHeader||n.traceContextParentHeader))if(e[0]&&e[0].headers)a(e[0].headers,n)&&(this.dt=n);else{var o={};for(var s in r)o[s]=r[s];o.headers=new Headers(r.headers||{}),a(o.headers,n)&&(this.dt=n),e.length>1?e[1]=o:e.push(o)}}function a(e,t){var r=!1;return t.newrelicHeader&&(e.set("newrelic",t.newrelicHeader),r=!0),t.traceContextParentHeader&&(e.set("traceparent",t.traceContextParentHeader),t.traceContextStateHeader&&e.set("tracestate",t.traceContextStateHeader),r=!0),r}}function x(e,t){this.params={},this.metrics={},this.startTime=(0,c.t)(),this.dt=t,e.length>=1&&(this.target=e[0]),e.length>=2&&(this.opts=e[1]);var r=this.opts||{},n=this.target;Oe(this,Re(n));var i=(""+(n&&n instanceof Ee&&n.method||r.method||"GET")).toUpperCase();this.params.method=i,this.body=r.body,this.txSize=re(r.body)||0}function T(e,t){if(this.endTime=(0,c.t)(),this.params||(this.params={}),(0,we.iW)(this.params))return;let i;this.params.status=t?t.status:0,"string"==typeof this.rxSize&&this.rxSize.length>0&&(i=+this.rxSize);const o={txSize:this.txSize,rxSize:i,duration:(0,c.t)()-this.startTime};r("xhr",[this.params,o,this.startTime,this.endTime,"fetch"],this,n.K7.ajax)}function E(e){const t=this.params,i=this.metrics;if(!this.ended){this.ended=!0;for(let t=0;t<Te;t++)e.removeEventListener(xe[t],this.listener,!1);t.aborted||(0,we.iW)(t)||(i.duration=(0,c.t)()-this.startTime,this.loadCaptureCalled||4!==e.readyState?null==t.status&&(t.status=0):A(this,e),i.cbTime=this.cbTime,r("xhr",[t,i,this.startTime,this.endTime,"xhr"],this,n.K7.ajax))}}function A(e,r){e.params.status=r.status;var i=function(e,t){var r=e.responseType;return"json"===r&&null!==t?t:"arraybuffer"===r||"blob"===r||"json"===r?re(e.response):"text"===r||""===r||void 0===r?re(e.responseText):void 0}(r,e.lastSize);if(i&&(e.metrics.rxSize=i),e.sameOrigin&&r.getAllResponseHeaders().indexOf(Se)>=0){var o=r.getResponseHeader(Se);o&&((0,a.p)(h.rs,["Ajax/CrossApplicationTracing/Header/Seen"],void 0,n.K7.metrics,t),e.params.cat=o.split(", ").pop())}e.loadCaptureCalled=!0}t.on("new-xhr",o),t.on("open-xhr-start",s),t.on("open-xhr-end",u),t.on("send-xhr-start",d),t.on("xhr-cb-time",l),t.on("xhr-load-added",f),t.on("xhr-load-removed",p),t.on("xhr-resolved",g),t.on("addEventListener-end",m),t.on("removeEventListener-end",v),t.on("fn-end",w),t.on("fetch-before-start",R),t.on("fetch-start",x),t.on("fn-start",b),t.on("fetch-done",T)}(e,this.ee,this.handler,this.dt),this.importAggregator(e,()=>i.e(478).then(i.bind(i,3845)))}}function Oe(e,t){var r=(0,ve.D)(t),n=e.params||e;n.hostname=r.hostname,n.port=r.port,n.protocol=r.protocol,n.host=r.hostname+":"+r.port,n.pathname=r.pathname,e.parsedOrigin=r,e.sameOrigin=r.sameOrigin}const Ne={},Ie=["pushState","replaceState"];function Pe(e){const t=function(e){return(e||ie.ee).get("history")}(e);return!y.RI||Ne[t.debugId]++||(Ne[t.debugId]=1,(0,oe.YM)(t).inPlace(window.history,Ie,"-")),t}var je=i(3738);function ke(e){p(u.BL,function(t=Date.now()){const r=t-y.WN;r<0&&(0,l.R)(62,t),(0,a.p)(h.XG,[u.BL,{time:r}],void 0,n.K7.metrics,e.ee),e.addToTrace({name:u.BL,start:t,origin:"nr"}),(0,a.p)(u.Pl+u.hG,[r,u.BL],void 0,n.K7.genericEvents,e.ee)},e)}const{He:Ce,bD:Le,d3:He,Kp:Me,TZ:Ke,Lc:De,uP:Ue,Rz:Fe}=je;class We extends E{static featureName=Ke;constructor(e){var t;super(e,Ke),t=e,p(u.U2,function(e){if(!(e&&"object"==typeof e&&e.name&&e.start))return;const r={n:e.name,s:e.start-y.WN,e:(e.end||e.start)-y.WN,o:e.origin||"",t:"api"};r.s<0||r.e<0||r.e<r.s?(0,l.R)(61,{start:r.s,end:r.e}):(0,a.p)("bstApi",[r],void 0,n.K7.sessionTrace,t.ee)},t),ke(e);if(!(0,R.V)(e.init))return void this.deregisterDrain();const r=this.ee;let o;Pe(r),this.eventsEE=(0,ne.u)(r),this.eventsEE.on(Ue,function(e,t){this.bstStart=(0,c.t)()}),this.eventsEE.on(De,function(e,t){(0,a.p)("bst",[e[0],t,this.bstStart,(0,c.t)()],void 0,n.K7.sessionTrace,r)}),r.on(Fe+He,function(e){this.time=(0,c.t)(),this.startPath=location.pathname+location.hash}),r.on(Fe+Me,function(e){(0,a.p)("bstHist",[location.pathname+location.hash,this.startPath,this.time],void 0,n.K7.sessionTrace,r)});try{o=new PerformanceObserver(e=>{const t=e.getEntries();(0,a.p)(Ce,[t],void 0,n.K7.sessionTrace,r)}),o.observe({type:Le,buffered:!0})}catch(e){}this.importAggregator(e,()=>i.e(478).then(i.bind(i,6974)),{resourceObserver:o})}}var Be=i(6344);class Ve extends E{static featureName=Be.TZ;#n;recorder;constructor(e){var t;let r;super(e,Be.TZ),t=e,p(u.CH,function(){(0,a.p)(u.CH,[],void 0,n.K7.sessionReplay,t.ee)},t),function(e){p(u.Tb,function(){(0,a.p)(u.Tb,[],void 0,n.K7.sessionReplay,e.ee)},e)}(e);try{r=JSON.parse(localStorage.getItem("".concat(S.H3,"_").concat(S.uh)))}catch(e){}(0,w.SR)(e.init)&&this.ee.on(u.CH,()=>this.#i()),this.#o(r)&&this.importRecorder().then(e=>{e.startRecording(Be.Qb.PRELOAD,r?.sessionReplayMode)}),this.importAggregator(this.agentRef,()=>i.e(478).then(i.bind(i,6167)),this),this.ee.on("err",e=>{this.blocked||this.agentRef.runtime.isRecording&&(this.errorNoticed=!0,(0,a.p)(Be.Vh,[e],void 0,this.featureName,this.ee))})}#o(e){return e&&(e.sessionReplayMode===S.g.FULL||e.sessionReplayMode===S.g.ERROR)||(0,w.Aw)(this.agentRef.init)}importRecorder(){return this.recorder?Promise.resolve(this.recorder):(this.#n??=Promise.all([i.e(478),i.e(249)]).then(i.bind(i,4866)).then(({Recorder:e})=>(this.recorder=new e(this),this.recorder)).catch(e=>{throw this.ee.emit("internal-error",[e]),this.blocked=!0,e}),this.#n)}#i(){this.blocked||(this.featAggregate?this.featAggregate.mode!==S.g.FULL&&this.featAggregate.initializeRecording(S.g.FULL,!0,Be.Qb.API):this.importRecorder().then(()=>{this.recorder.startRecording(Be.Qb.API,S.g.FULL)}))}}var Ge=i(3962);function ze(e){const t=e.ee.get("tracer");function r(){}p(u.dT,function(e){return(new r).get("object"==typeof e?e:{})},e);const i=r.prototype={createTracer:function(r,i){var o={},s=this,d="function"==typeof i;return(0,a.p)(h.xV,["API/createTracer/called"],void 0,n.K7.metrics,e.ee),e.runSoftNavOverSpa||(0,a.p)(u.hw+"tracer",[(0,c.t)(),r,o],s,n.K7.spa,e.ee),function(){if(t.emit((d?"":"no-")+"fn-start",[(0,c.t)(),s,d],o),d)try{return i.apply(this,arguments)}catch(e){const r="string"==typeof e?new Error(e):e;throw t.emit("fn-err",[arguments,this,r],o),r}finally{t.emit("fn-end",[(0,c.t)()],o)}}}};["actionText","setName","setAttribute","save","ignore","onEnd","getContext","end","get"].forEach(t=>{p.apply(this,[t,function(){return(0,a.p)(u.hw+t,[(0,c.t)(),...arguments],this,e.runSoftNavOverSpa?n.K7.softNav:n.K7.spa,e.ee),this},e,i])}),p(u.PA,function(){e.runSoftNavOverSpa?(0,a.p)(u.hw+"routeName",[performance.now(),...arguments],void 0,n.K7.softNav,e.ee):(0,a.p)(u.Pl+"routeName",[(0,c.t)(),...arguments],this,n.K7.spa,e.ee)},e)}class Ze extends E{static featureName=Ge.TZ;constructor(e){if(super(e,Ge.TZ),ze(e),!y.RI||!(0,O.dV)().o.MO)return;const t=Pe(this.ee);try{this.removeOnAbort=new AbortController}catch(e){}Ge.tC.forEach(e=>{(0,I.sp)(e,e=>{s(e)},!0,this.removeOnAbort?.signal)});const r=()=>(0,a.p)("newURL",[(0,c.t)(),""+window.location],void 0,this.featureName,this.ee);t.on("pushState-end",r),t.on("replaceState-end",r),(0,I.sp)(Ge.OV,e=>{s(e),(0,a.p)("newURL",[e.timeStamp,""+window.location],void 0,this.featureName,this.ee)},!0,this.removeOnAbort?.signal);let n=!1;const o=new((0,O.dV)().o.MO)((e,t)=>{n||(n=!0,requestAnimationFrame(()=>{(0,a.p)("newDom",[(0,c.t)()],void 0,this.featureName,this.ee),n=!1}))}),s=(0,x.s)(e=>{(0,a.p)("newUIEvent",[e],void 0,this.featureName,this.ee),o.observe(document.body,{attributes:!0,childList:!0,subtree:!0,characterData:!0})},100,{leading:!0});this.abortHandler=function(){this.removeOnAbort?.abort(),o.disconnect(),this.abortHandler=void 0},this.importAggregator(e,()=>i.e(478).then(i.bind(i,4393)),{domObserver:o})}}var qe=i(7378);const Xe={},Ye=["appendChild","insertBefore","replaceChild"];function Je(e){const t=function(e){return(e||ie.ee).get("jsonp")}(e);if(!y.RI||Xe[t.debugId])return t;Xe[t.debugId]=!0;var r=(0,oe.YM)(t),n=/[?&](?:callback|cb)=([^&#]+)/,i=/(.*)\.([^.]+)/,o=/^(\w+)(\.|$)(.*)$/;function s(e,t){if(!e)return t;const r=e.match(o),n=r[1];return s(r[3],t[n])}return r.inPlace(Node.prototype,Ye,"dom-"),t.on("dom-start",function(e){!function(e){if(!e||"string"!=typeof e.nodeName||"script"!==e.nodeName.toLowerCase())return;if("function"!=typeof e.addEventListener)return;var o=(a=e.src,c=a.match(n),c?c[1]:null);var a,c;if(!o)return;var u=function(e){var t=e.match(i);if(t&&t.length>=3)return{key:t[2],parent:s(t[1],window)};return{key:e,parent:window}}(o);if("function"!=typeof u.parent[u.key])return;var d={};function l(){t.emit("jsonp-end",[],d),e.removeEventListener("load",l,(0,I.jT)(!1)),e.removeEventListener("error",f,(0,I.jT)(!1))}function f(){t.emit("jsonp-error",[],d),t.emit("jsonp-end",[],d),e.removeEventListener("load",l,(0,I.jT)(!1)),e.removeEventListener("error",f,(0,I.jT)(!1))}r.inPlace(u.parent,[u.key],"cb-",d),e.addEventListener("load",l,(0,I.jT)(!1)),e.addEventListener("error",f,(0,I.jT)(!1)),t.emit("new-jsonp",[e.src],d)}(e[0])}),t}const $e={};function Qe(e){const t=function(e){return(e||ie.ee).get("promise")}(e);if($e[t.debugId])return t;$e[t.debugId]=!0;var r=t.context,n=(0,oe.YM)(t),i=y.gm.Promise;return i&&function(){function e(r){var o=t.context(),s=n(r,"executor-",o,null,!1);const a=Reflect.construct(i,[s],e);return t.context(a).getCtx=function(){return o},a}y.gm.Promise=e,Object.defineProperty(e,"name",{value:"Promise"}),e.toString=function(){return i.toString()},Object.setPrototypeOf(e,i),["all","race"].forEach(function(r){const n=i[r];e[r]=function(e){let i=!1;[...e||[]].forEach(e=>{this.resolve(e).then(s("all"===r),s(!1))});const o=n.apply(this,arguments);return o;function s(e){return function(){t.emit("propagate",[null,!i],o,!1,!1),i=i||!e}}}}),["resolve","reject"].forEach(function(r){const n=i[r];e[r]=function(e){const r=n.apply(this,arguments);return e!==r&&t.emit("propagate",[e,!0],r,!1,!1),r}}),e.prototype=i.prototype;const o=i.prototype.then;i.prototype.then=function(...e){var i=this,s=r(i);s.promise=i,e[0]=n(e[0],"cb-",s,null,!1),e[1]=n(e[1],"cb-",s,null,!1);const a=o.apply(this,e);return s.nextPromise=a,t.emit("propagate",[i,!0],a,!1,!1),a},i.prototype.then[oe.Jt]=o,t.on("executor-start",function(e){e[0]=n(e[0],"resolve-",this,null,!1),e[1]=n(e[1],"resolve-",this,null,!1)}),t.on("executor-err",function(e,t,r){e[1](r)}),t.on("cb-end",function(e,r,n){t.emit("propagate",[n,!0],this.nextPromise,!1,!1)}),t.on("propagate",function(e,r,n){if(!this.getCtx||r){const r=this,n=e instanceof Promise?t.context(e):null;let i;this.getCtx=function(){return i||(i=n&&n!==r?"function"==typeof n.getCtx?n.getCtx():n:r,i)}}})}(),t}const et={},tt="setTimeout",rt="setInterval",nt="clearTimeout",it="-start",ot=[tt,"setImmediate",rt,nt,"clearImmediate"];function st(e){const t=function(e){return(e||ie.ee).get("timer")}(e);if(et[t.debugId]++)return t;et[t.debugId]=1;var r=(0,oe.YM)(t);return r.inPlace(y.gm,ot.slice(0,2),tt+"-"),r.inPlace(y.gm,ot.slice(2,3),rt+"-"),r.inPlace(y.gm,ot.slice(3),nt+"-"),t.on(rt+it,function(e,t,n){e[0]=r(e[0],"fn-",null,n)}),t.on(tt+it,function(e,t,n){this.method=n,this.timerDuration=isNaN(e[1])?0:+e[1],e[0]=r(e[0],"fn-",this,n)}),t}const at={};function ct(e){const t=function(e){return(e||ie.ee).get("mutation")}(e);if(!y.RI||at[t.debugId])return t;at[t.debugId]=!0;var r=(0,oe.YM)(t),n=y.gm.MutationObserver;return n&&(window.MutationObserver=function(e){return this instanceof n?new n(r(e,"fn-")):n.apply(this,arguments)},MutationObserver.prototype=n.prototype),t}const{TZ:ut,d3:dt,Kp:lt,$p:ft,wW:ht,e5:pt,tH:gt,uP:mt,rw:vt,Lc:bt}=qe;class yt extends E{static featureName=ut;constructor(e){if(super(e,ut),ze(e),!y.RI)return;try{this.removeOnAbort=new AbortController}catch(e){}let t,r=0;const n=this.ee.get("tracer"),o=Je(this.ee),s=Qe(this.ee),u=st(this.ee),d=ce(this.ee),l=this.ee.get("events"),f=me(this.ee),h=Pe(this.ee),p=ct(this.ee);function g(e,t){h.emit("newURL",[""+window.location,t])}function m(){r++,t=window.location.hash,this[mt]=(0,c.t)()}function v(){r--,window.location.hash!==t&&g(0,!0);var e=(0,c.t)();this[pt]=~~this[pt]+e-this[mt],this[bt]=e}function b(e,t){e.on(t,function(){this[t]=(0,c.t)()})}this.ee.on(mt,m),s.on(vt,m),o.on(vt,m),this.ee.on(bt,v),s.on(ht,v),o.on(ht,v),this.ee.on("fn-err",(...t)=>{t[2]?.__newrelic?.[e.agentIdentifier]||(0,a.p)("function-err",[...t],void 0,this.featureName,this.ee)}),this.ee.buffer([mt,bt,"xhr-resolved"],this.featureName),l.buffer([mt],this.featureName),u.buffer(["setTimeout"+lt,"clearTimeout"+dt,mt],this.featureName),d.buffer([mt,"new-xhr","send-xhr"+dt],this.featureName),f.buffer([gt+dt,gt+"-done",gt+ft+dt,gt+ft+lt],this.featureName),h.buffer(["newURL"],this.featureName),p.buffer([mt],this.featureName),s.buffer(["propagate",vt,ht,"executor-err","resolve"+dt],this.featureName),n.buffer([mt,"no-"+mt],this.featureName),o.buffer(["new-jsonp","cb-start","jsonp-error","jsonp-end"],this.featureName),b(f,gt+dt),b(f,gt+"-done"),b(o,"new-jsonp"),b(o,"jsonp-end"),b(o,"cb-start"),h.on("pushState-end",g),h.on("replaceState-end",g),window.addEventListener("hashchange",g,(0,I.jT)(!0,this.removeOnAbort?.signal)),window.addEventListener("load",g,(0,I.jT)(!0,this.removeOnAbort?.signal)),window.addEventListener("popstate",function(){g(0,r>1)},(0,I.jT)(!0,this.removeOnAbort?.signal)),this.abortHandler=this.#r,this.importAggregator(e,()=>i.e(478).then(i.bind(i,5592)))}#r(){this.removeOnAbort?.abort(),this.abortHandler=void 0}}var wt=i(3333);class Rt extends E{static featureName=wt.TZ;constructor(e){super(e,wt.TZ);const t=[e.init.page_action.enabled,e.init.performance.capture_marks,e.init.performance.capture_measures,e.init.user_actions.enabled,e.init.performance.resources.enabled];var r;r=e,p(u.hG,(e,t)=>z(e,t,r),r),function(e){p(u.fF,(t,r)=>q(t,r,e),e)}(e),ke(e),X(e),function(e){p(u.V1,(t,r)=>Z(t,r,e),e)}(e);const o=e.init.feature_flags.includes("user_frustrations");let s;if(y.RI&&o&&(me(this.ee),ce(this.ee),s=Pe(this.ee)),y.RI){if(e.init.user_actions.enabled&&(wt.Zp.forEach(e=>(0,I.sp)(e,e=>(0,a.p)("ua",[e],void 0,this.featureName,this.ee),!0)),wt.qN.forEach(e=>{const t=(0,x.s)(e=>{(0,a.p)("ua",[e],void 0,this.featureName,this.ee)},500,{leading:!0});(0,I.sp)(e,t)}),o)){function c(t){const r=(0,ve.D)(t);return e.beacons.includes(r.hostname+":"+r.port)}function d(){s.emit("navChange")}y.gm.addEventListener("error",()=>{(0,a.p)("uaErr",[],void 0,n.K7.genericEvents,this.ee)},(0,I.jT)(!1,this.removeOnAbort?.signal)),this.ee.on("open-xhr-start",(e,t)=>{c(e[1])||t.addEventListener("readystatechange",()=>{2===t.readyState&&(0,a.p)("uaXhr",[],void 0,n.K7.genericEvents,this.ee)})}),this.ee.on("fetch-start",e=>{e.length>=1&&!c(Re(e[0]))&&(0,a.p)("uaXhr",[],void 0,n.K7.genericEvents,this.ee)}),s.on("pushState-end",d),s.on("replaceState-end",d),window.addEventListener("hashchange",d,(0,I.jT)(!0,this.removeOnAbort?.signal)),window.addEventListener("popstate",d,(0,I.jT)(!0,this.removeOnAbort?.signal))}if(e.init.performance.resources.enabled&&y.gm.PerformanceObserver?.supportedEntryTypes.includes("resource")){new PerformanceObserver(e=>{e.getEntries().forEach(e=>{(0,a.p)("browserPerformance.resource",[e],void 0,this.featureName,this.ee)})}).observe({type:"resource",buffered:!0})}}try{this.removeOnAbort=new AbortController}catch(l){}this.abortHandler=()=>{this.removeOnAbort?.abort(),this.abortHandler=void 0},t.some(e=>e)?this.importAggregator(e,()=>i.e(478).then(i.bind(i,8019))):this.deregisterDrain()}}var xt=i(2646);const Tt=new Map;function Et(e,t,r,n){if("object"!=typeof t||!t||"string"!=typeof r||!r||"function"!=typeof t[r])return(0,l.R)(29);const i=function(e){return(e||ie.ee).get("logger")}(e),o=(0,oe.YM)(i),s=new xt.y(ie.P);s.level=n.level,s.customAttributes=n.customAttributes;const a=t[r]?.[oe.Jt]||t[r];return Tt.set(a,s),o.inPlace(t,[r],"wrap-logger-",()=>Tt.get(a)),i}var At=i(1910);class St extends E{static featureName=B.TZ;constructor(e){var t;super(e,B.TZ),t=e,p(u.$9,(e,r)=>G(e,r,t),t),function(e){p(u.Wb,(t,r,{customAttributes:n={},level:i=B.p_.INFO}={})=>{Et(e.ee,t,r,{customAttributes:n,level:i})},e)}(e),X(e);const r=this.ee;["log","error","warn","info","debug","trace"].forEach(e=>{(0,At.i)(y.gm.console[e]),Et(r,y.gm.console,e,{level:"log"===e?"info":e})}),this.ee.on("wrap-logger-end",function([e]){const{level:t,customAttributes:n}=this;(0,V.R)(r,e,n,t)}),this.importAggregator(e,()=>i.e(478).then(i.bind(i,5288)))}}new class extends r{constructor(e){var t;(super(),y.gm)?(this.features={},(0,O.bQ)(this.agentIdentifier,this),this.desiredFeatures=new Set(e.features||[]),this.desiredFeatures.add(_),this.runSoftNavOverSpa=[...this.desiredFeatures].some(e=>e.featureName===n.K7.softNav),(0,s.j)(this,e,e.loaderType||"agent"),t=this,p(u.cD,function(e,r,n=!1){if("string"==typeof e){if(["string","number","boolean"].includes(typeof r)||null===r)return g(t,e,r,u.cD,n);(0,l.R)(40,typeof r)}else(0,l.R)(39,typeof e)},t),function(e){p(u.Dl,function(t){if("string"==typeof t||null===t)return g(e,"enduser.id",t,u.Dl,!0);(0,l.R)(41,typeof t)},e)}(this),function(e){p(u.nb,function(t){if("string"==typeof t||null===t)return g(e,"application.version",t,u.nb,!1);(0,l.R)(42,typeof t)},e)}(this),function(e){p(u.d3,function(){e.ee.emit("manual-start-all")},e)}(this),function(e){p(u.Pv,function(t=!0){if("boolean"==typeof t){if((0,a.p)(u.Pl+u.Pv,[t],void 0,"session",e.ee),e.runtime.consented=t,t){const t=e.features.page_view_event;t.onAggregateImported.then(e=>{const r=t.featAggregate;e&&!r.sentRum&&r.sendRum()})}}else(0,l.R)(65,typeof t)},e)}(this),this.run()):(0,l.R)(21)}get config(){return{info:this.info,init:this.init,loader_config:this.loader_config,runtime:this.runtime}}get api(){return this}run(){try{const e=function(e){const t={};return o.forEach(r=>{t[r]=!!e[r]?.enabled}),t}(this.init),t=[...this.desiredFeatures];t.sort((e,t)=>n.P3[e.featureName]-n.P3[t.featureName]),t.forEach(t=>{if(!e[t.featureName]&&t.featureName!==n.K7.pageViewEvent)return;if(this.runSoftNavOverSpa&&t.featureName===n.K7.spa)return;if(!this.runSoftNavOverSpa&&t.featureName===n.K7.softNav)return;const r=function(e){switch(e){case n.K7.ajax:return[n.K7.jserrors];case n.K7.sessionTrace:return[n.K7.ajax,n.K7.pageViewEvent];case n.K7.sessionReplay:return[n.K7.sessionTrace];case n.K7.pageViewTiming:return[n.K7.pageViewEvent];default:return[]}}(t.featureName).filter(e=>!(e in this.features));r.length>0&&(0,l.R)(36,{targetFeature:t.featureName,missingDependencies:r}),this.features[t.featureName]=new t(this)})}catch(e){(0,l.R)(22,e);for(const e in this.features)this.features[e].abortHandler?.();const t=(0,O.Zm)();delete t.initializedAgents[this.agentIdentifier]?.features,delete this.sharedAggregator;return t.ee.get(this.agentIdentifier).abort(),!1}}}({features:[_e,_,j,We,Ve,k,J,Rt,St,Ze,yt],loaderType:"spa"})})()})();</script>
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no">

        
            
         
        
        <style type="text/css">svg:not(:root).svg-inline--fa{overflow:visible}.svg-inline--fa{display:inline-block;font-size:inherit;height:1em;overflow:visible;vertical-align:-.125em}.svg-inline--fa.fa-lg{vertical-align:-.225em}.svg-inline--fa.fa-w-1{width:.0625em}.svg-inline--fa.fa-w-2{width:.125em}.svg-inline--fa.fa-w-3{width:.1875em}.svg-inline--fa.fa-w-4{width:.25em}.svg-inline--fa.fa-w-5{width:.3125em}.svg-inline--fa.fa-w-6{width:.375em}.svg-inline--fa.fa-w-7{width:.4375em}.svg-inline--fa.fa-w-8{width:.5em}.svg-inline--fa.fa-w-9{width:.5625em}.svg-inline--fa.fa-w-10{width:.625em}.svg-inline--fa.fa-w-11{width:.6875em}.svg-inline--fa.fa-w-12{width:.75em}.svg-inline--fa.fa-w-13{width:.8125em}.svg-inline--fa.fa-w-14{width:.875em}.svg-inline--fa.fa-w-15{width:.9375em}.svg-inline--fa.fa-w-16{width:1em}.svg-inline--fa.fa-w-17{width:1.0625em}.svg-inline--fa.fa-w-18{width:1.125em}.svg-inline--fa.fa-w-19{width:1.1875em}.svg-inline--fa.fa-w-20{width:1.25em}.svg-inline--fa.fa-pull-left{margin-right:.3em;width:auto}.svg-inline--fa.fa-pull-right{margin-left:.3em;width:auto}.svg-inline--fa.fa-border{height:1.5em}.svg-inline--fa.fa-li{width:2em}.svg-inline--fa.fa-fw{width:1.25em}.fa-layers svg.svg-inline--fa{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0}.fa-layers{display:inline-block;height:1em;position:relative;text-align:center;vertical-align:-.125em;width:1em}.fa-layers svg.svg-inline--fa{-webkit-transform-origin:center center;transform-origin:center center}.fa-layers-counter,.fa-layers-text{display:inline-block;position:absolute;text-align:center}.fa-layers-text{left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);-webkit-transform-origin:center center;transform-origin:center center}.fa-layers-counter{background-color:#ff253a;border-radius:1em;-webkit-box-sizing:border-box;box-sizing:border-box;color:#fff;height:1.5em;line-height:1;max-width:5em;min-width:1.5em;overflow:hidden;padding:.25em;right:0;text-overflow:ellipsis;top:0;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:top right;transform-origin:top right}.fa-layers-bottom-right{bottom:0;right:0;top:auto;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:bottom right;transform-origin:bottom right}.fa-layers-bottom-left{bottom:0;left:0;right:auto;top:auto;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:bottom left;transform-origin:bottom left}.fa-layers-top-right{right:0;top:0;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:top right;transform-origin:top right}.fa-layers-top-left{left:0;right:auto;top:0;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:top left;transform-origin:top left}.fa-lg{font-size:1.3333333333em;line-height:.75em;vertical-align:-.0667em}.fa-xs{font-size:.75em}.fa-sm{font-size:.875em}.fa-1x{font-size:1em}.fa-2x{font-size:2em}.fa-3x{font-size:3em}.fa-4x{font-size:4em}.fa-5x{font-size:5em}.fa-6x{font-size:6em}.fa-7x{font-size:7em}.fa-8x{font-size:8em}.fa-9x{font-size:9em}.fa-10x{font-size:10em}.fa-fw{text-align:center;width:1.25em}.fa-ul{list-style-type:none;margin-left:2.5em;padding-left:0}.fa-ul>li{position:relative}.fa-li{left:-2em;position:absolute;text-align:center;width:2em;line-height:inherit}.fa-border{border:solid .08em #eee;border-radius:.1em;padding:.2em .25em .15em}.fa-pull-left{float:left}.fa-pull-right{float:right}.fa.fa-pull-left,.fab.fa-pull-left,.fal.fa-pull-left,.far.fa-pull-left,.fas.fa-pull-left{margin-right:.3em}.fa.fa-pull-right,.fab.fa-pull-right,.fal.fa-pull-right,.far.fa-pull-right,.fas.fa-pull-right{margin-left:.3em}.fa-spin{-webkit-animation:fa-spin 2s infinite linear;animation:fa-spin 2s infinite linear}.fa-pulse{-webkit-animation:fa-spin 1s infinite steps(8);animation:fa-spin 1s infinite steps(8)}@-webkit-keyframes fa-spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes fa-spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.fa-rotate-90{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.fa-rotate-180{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.fa-rotate-270{-webkit-transform:rotate(270deg);transform:rotate(270deg)}.fa-flip-horizontal{-webkit-transform:scale(-1,1);transform:scale(-1,1)}.fa-flip-vertical{-webkit-transform:scale(1,-1);transform:scale(1,-1)}.fa-flip-both,.fa-flip-horizontal.fa-flip-vertical{-webkit-transform:scale(-1,-1);transform:scale(-1,-1)}:root .fa-flip-both,:root .fa-flip-horizontal,:root .fa-flip-vertical,:root .fa-rotate-180,:root .fa-rotate-270,:root .fa-rotate-90{-webkit-filter:none;filter:none}.fa-stack{display:inline-block;height:2em;position:relative;width:2.5em}.fa-stack-1x,.fa-stack-2x{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0}.svg-inline--fa.fa-stack-1x{height:1em;width:1.25em}.svg-inline--fa.fa-stack-2x{height:2em;width:2.5em}.fa-inverse{color:#fff}.sr-only{border:0;clip:rect(0,0,0,0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.sr-only-focusable:active,.sr-only-focusable:focus{clip:auto;height:auto;margin:0;overflow:visible;position:static;width:auto}.svg-inline--fa .fa-primary{fill:var(--fa-primary-color,currentColor);opacity:1;opacity:var(--fa-primary-opacity,1)}.svg-inline--fa .fa-secondary{fill:var(--fa-secondary-color,currentColor);opacity:.4;opacity:var(--fa-secondary-opacity,.4)}.svg-inline--fa.fa-swap-opacity .fa-primary{opacity:.4;opacity:var(--fa-secondary-opacity,.4)}.svg-inline--fa.fa-swap-opacity .fa-secondary{opacity:1;opacity:var(--fa-primary-opacity,1)}.svg-inline--fa mask .fa-primary,.svg-inline--fa mask .fa-secondary{fill:#000}.fad.fa-inverse{color:#fff}</style><link rel="preconnect" href="https://fonts.googleapis.com/">
        <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="">
        <link href="./Planos e preços_files/css2" rel="stylesheet">
        
        
        <link href="./Planos e preços_files/custom.css" rel="stylesheet" media="screen,print">

        <link rel="alternate" href="https://qr-generator.ai/plan-dpf" hreflang="x-default">   
        <link href="https://qr-generator.ai/themes/altum/assets/images/qga/favicon.png" rel="shortcut icon"> 
        <link href="./Planos e preços_files/bootstrap.min.css" id="css_theme_style" rel="stylesheet" media="screen,print">    
        <link href="./Planos e preços_files/custom_dash.css" rel="stylesheet" media="screen,print">
        <link href="./Planos e preços_files/bootstrap(1).min.css" rel="stylesheet" media="screen,print">
        <link href="./Planos e preços_files/qr-generator-styles.css" rel="stylesheet" media="screen,print">
        <link href="./Planos e preços_files/qr-icons.css" rel="stylesheet" media="screen,print">
        <link href="./Planos e preços_files/billing-header.css" rel="stylesheet" media="screen,print">
        <link href="./Planos e preços_files/dpf-steps-styles.css" rel="stylesheet" media="screen,print">
        <link href="./Planos e preços_files/style.css" rel="stylesheet" media="screen,print">
        <link href="./Planos e preços_files/common-styles-home.css" rel="stylesheet" media="screen,print">
    <script data-cfasync="false" nonce="3df4e1ed-d497-445d-b8b5-161037953d1f">try{(function(w,d){!function(j,k,l,m){if(j.zaraz)console.error("zaraz is loaded twice");else{j[l]=j[l]||{};j[l].executed=[];j.zaraz={deferred:[],listeners:[]};j.zaraz._v="5874";j.zaraz._n="3df4e1ed-d497-445d-b8b5-161037953d1f";j.zaraz.q=[];j.zaraz._f=function(n){return async function(){var o=Array.prototype.slice.call(arguments);j.zaraz.q.push({m:n,a:o})}};for(const p of["track","set","debug"])j.zaraz[p]=j.zaraz._f(p);j.zaraz.init=()=>{var q=k.getElementsByTagName(m)[0],r=k.createElement(m),s=k.getElementsByTagName("title")[0];s&&(j[l].t=k.getElementsByTagName("title")[0].text);j[l].x=Math.random();j[l].w=j.screen.width;j[l].h=j.screen.height;j[l].j=j.innerHeight;j[l].e=j.innerWidth;j[l].l=j.location.href;j[l].r=k.referrer;j[l].k=j.screen.colorDepth;j[l].n=k.characterSet;j[l].o=(new Date).getTimezoneOffset();if(j.dataLayer)for(const t of Object.entries(Object.entries(dataLayer).reduce((u,v)=>({...u[1],...v[1]}),{})))zaraz.set(t[0],t[1],{scope:"page"});j[l].q=[];for(;j.zaraz.q.length;){const w=j.zaraz.q.shift();j[l].q.push(w)}r.defer=!0;for(const x of[localStorage,sessionStorage])Object.keys(x||{}).filter(z=>z.startsWith("_zaraz_")).forEach(y=>{try{j[l]["z_"+y.slice(7)]=JSON.parse(x.getItem(y))}catch{j[l]["z_"+y.slice(7)]=x.getItem(y)}});r.referrerPolicy="origin";r.src="/rgaonbf?z="+btoa(encodeURIComponent(JSON.stringify(j[l])));q.parentNode.insertBefore(r,q)};["complete","interactive"].includes(k.readyState)?zaraz.init():j.addEventListener("DOMContentLoaded",zaraz.init)}}(w,d,"zarazData","script");window.zaraz._p=async d$=>new Promise(ea=>{if(d$){d$.e&&d$.e.forEach(eb=>{try{const ec=d.querySelector("script[nonce]"),ed=ec?.nonce||ec?.getAttribute("nonce"),ee=d.createElement("script");ed&&(ee.nonce=ed);ee.innerHTML=eb;ee.onload=()=>{d.head.removeChild(ee)};d.head.appendChild(ee)}catch(ef){console.error(`Error executing script: ${eb}\n`,ef)}});Promise.allSettled((d$.f||[]).map(eg=>fetch(eg[0],eg[1])))}ea()});zaraz._p({"e":["(function(w,d){})(window,document)"]});})(window,document)}catch(e){throw fetch("/ounbty"),e;};</script><script async="" src="./Planos e preços_files/modules.ce37dfc81afa6fcb9f03.js.download" charset="utf-8"></script><script>(function(w,d){})(window,document)</script><script>(function(w,d){;w.zarazData.executed.push("Pageview");})(window,document)</script><script>(function(w,d){{const d = document.createElement('div');d.innerHTML = `<div style="display:none"><img src="https://whos.amung.us/swidget/3h8920ftbs.png"></div>`;document.body.appendChild(d);};{const d = document.createElement('div');d.innerHTML = ``;document.body.appendChild(d);};{!function(e,t,n,s,a){(a=t.createElement(n)).async=!0,a.src="https://qr-generator.ai/BW5hrNfrHY9v-b.js",(t=t.getElementsByTagName(n)[0]).parentNode.insertBefore(a,t),e[s]=e[s]||function(){(e[s].q=e[s].q||[]).push(arguments)}}(window,document,"script","AnyTrack");}})(window,document)</script><script type="text/javascript" async="" src="./Planos e preços_files/f.txt" nonce="3df4e1ed-d497-445d-b8b5-161037953d1f"></script><script src="./Planos e preços_files/187215307.js.download" type="text/javascript" async="" data-ueto="ueto_8583d25165"></script><script type="text/javascript" async="" src="./Planos e preços_files/saved_resource(3)" nonce="3df4e1ed-d497-445d-b8b5-161037953d1f"></script><script>(function(w,d){;w.zarazData.executed.push("AllTracks");;w.zarazData.executed.push("aRLZ");})(window,document)</script><script>(function(w,d){{const d = document.createElement('div');d.innerHTML = ``;document.body.appendChild(d);};{
AnyTrack('trigger', 'signup', {
	refId: 'qga-4897583',
	userID: 'qga-4897583',
	email: 'mateuspaglia@gnail.com',
	label: 'DPF'
});
}})(window,document)</script></head>

    <body class="dpfmainwrapper  bg-white " data-theme-style="light" style="height: 1277.2px; min-height: 1277.2px;">
        
        <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MQ5CRW3W" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>      
        
<style>
    .features-boxes::before {
        position: absolute;
        content: "";
        background-image: url(https://qr-generator.ai/themes/altum/assets/images/yellowdots.png);
        background-repeat: no-repeat;
        height: 250px;
        width: 250px;
        bottom: 90px;
        left: -90px;
        z-index: -1;
    }

    .features-boxes::after {
        position: absolute;
        content: "";
        background-image: url(https://qr-generator.ai/themes/altum/assets/images/blue-dots.png);
        background-repeat: no-repeat;
        height: 250px;
        width: 250px;
        top: -140px;
        right: -114px;
        z-index: -1;
    }
</style>

<link rel="stylesheet" href="./Planos e preços_files/dashboard-styles.css">
<!-- for box area slider -->
<link rel="stylesheet" href="./Planos e preços_files/all.css">
<link rel="stylesheet" href="./Planos e preços_files/swiper-bundle.min.css">
<!-- font-awesome  -->
<link rel="stylesheet" href="./Planos e preços_files/font-awesome.min.css">
<link rel="stylesheet" href="./Planos e preços_files/all.min.css" integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g==" crossorigin="anonymous" referrerpolicy="no-referrer">
<link rel="stylesheet" href="./Planos e preços_files/jquery-ui.css">

<script src="./Planos e preços_files/jquery.min.js.download"></script>
<link rel="stylesheet" href="./Planos e preços_files/payment.css">

<script src="./Planos e preços_files/aos.js.download"></script>

<!-- <nav class="navbar navbar-expand-lg navbar-light bg-white border-bottom border-gray-200 mb-6"> -->
<header class="main-header-wrp plans-header-wrp dpf-header-wrap">
    <div class="container-fluid">



        <nav class="billing-nav">
            <button class="dpf-cancel-btn-wrap d-none d-md-none d-block ">
                <span class="icon-arrow-right dpf-cancel-arrow"></span>
            </button>
            <a href="https://qr-generator.ai/" class="animate-logo">
                <div class="logo qga-logo">
                    <img src="./Planos e preços_files/logo.webp" class="dashboard_logo mt-1 qga" alt="Logotipo do site">
                </div>

            </a>

                                            <div class="billing-block dpf dpf-step-block auth" style="display: block;">
                    <nav aria-label="breadcrumb ">
                        <ol class="custom-breadcrumbs small mb-0 ">

                            <li class="active">
                                <div>
                                    <span class="number">1</span>
                                    <span class="text">Cadastre-se</span>
                                    <div class="arrow-block"><svg class="svg-inline--fa fa-angle-right fa-w-8 fa-fw arrow-head" aria-hidden="true" focusable="false" data-prefix="fa" data-icon="angle-right" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 512" data-fa-i2svg=""><path fill="currentColor" d="M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z"></path></svg><!-- <i class="fa fa-fw fa-angle-right arrow-head"></i> Font Awesome fontawesome.com --></div>
                                </div>
                            </li>

                            <li class="current active">
                                <div>
                                    <span class="number">2</span>
                                    <span class="text">Planos e preços</span>
                                    <div class="arrow-block"><svg class="svg-inline--fa fa-angle-right fa-w-8 fa-fw arrow-head" aria-hidden="true" focusable="false" data-prefix="fa" data-icon="angle-right" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 512" data-fa-i2svg=""><path fill="currentColor" d="M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z"></path></svg><!-- <i class="fa fa-fw fa-angle-right arrow-head"></i> Font Awesome fontawesome.com --></div>
                                    <!--  -->
                                </div>
                            </li>

                            <li aria-current="page" id="menu-payment" class=" ">

                                <div>
                                    <span class="number">3</span>
                                    <span class="text">Pagamento</span>
                                    <div class="arrow-block"><svg class="svg-inline--fa fa-angle-right fa-w-8 fa-fw arrow-head" aria-hidden="true" focusable="false" data-prefix="fa" data-icon="angle-right" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 512" data-fa-i2svg=""><path fill="currentColor" d="M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z"></path></svg><!-- <i class="fa fa-fw fa-angle-right arrow-head"></i> Font Awesome fontawesome.com --></div>
                                </div>
                            </li>
                            <li aria-current="page" id="menu-payment" class=" 
                            ">

                                <div>
                                    <span class="number">4</span>
                                    <span class="text">Download</span>
                                </div>
                            </li>
                        </ol>
                    </nav>
                </div>

                        <div class="d-flex">
                <ul class="nav-links">
                                            <div class="hamburger burgermenu  invisible " id="openMenu">
                            <svg class="svg-inline--fa fa-bars fa-w-14" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="bars" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" data-fa-i2svg=""><path fill="currentColor" d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"></path></svg><!-- <i class="fas fa-bars"></i> Font Awesome fontawesome.com -->
                        </div>
                                    </ul>

            </div>

        </nav>
    </div>
    </header>

<!-- change start 28/01/2023 by parrot-->


<div class="app-sidebar billing-sidenav">
    <div class="app-sidebar-title text-truncate">
        <a href="https://qr-generator.ai/">
            <img src="./Planos e preços_files/logo.webp" class="dashboard_logo mt-1 qga" alt="Logotipo do site">
        </a>
    </div>

    <div class="overflow-auto customScrollbar flex-grow-1">
        <ul class="app-sidebar-links pl-0">
            <li class="">
                <a href="https://qr-generator.ai/qr/" class="create-qr-btn ps-4">
                    <span class="icon-add-barcode grey"></span>
                    Criar QR code
                </a>
            </li>
            <li class="">
                <a href="https://qr-generator.ai/analytics" class="ps-4">
                    <span class="icon-activity grey"></span>
                    Análise                </a>
            </li>
            <li class="">
                <a href="https://qr-generator.ai/qr-codes" class="ps-4">
                    <span class="icon-scan-barcode grey"></span>
                    Meus QR Codes                </a>
            </li>
            <li class="">
                <a href="https://qr-generator.ai/account" class="ps-4">
                    <span class="icon-profile grey"></span>
                    Minha conta                </a>
            </li>

            <li class="">
                <a href="https://qr-generator.ai/billing" class="ps-4">
                    <span class="icon-wallet grey"></span>
                    Cobrança de faturas                </a>
            </li>

            <li class="d-none ">
                <a href="https://qr-generator.ai/users" class="ps-4">
                    <span class="icon-users grey"></span>
                    Usuários                </a>
            </li>



            <div class="contact_us w-100">
                <hr class="m-auto my-3 text-secondary">
                <li>
                    <a href="https://qr-generator.ai/contact" class="ps-4">
                        <span class="icon-message grey"></span>
                        Entre em contato</a>
                </li>

                <li>
                    <a href="https://qr-generator.ai/faq" class="ps-4">
                        <span class="icon-message-question grey"></span>
                        Perguntas Frequentes</a>
                </li>
            </div>
            <hr class="m-auto mt-3 text-secondary d-none">
        </ul>
        <ul class="app-sidebar-links mb-2 pl-0 d-none">
            <li style="padding: 3px 0 2px">
                <a href="https://qr-generator.ai/logout" class="py-2 ps-4">
                    <span class="icon-sign-out grey"></span>
                    Sair                </a>
            </li>
        </ul>

    </div>

</div>

<div class="sidebar-backdrop"></div>

<!-- change end 28/01/2023 by parrot-->
<div class="modal-backdrop d-none" id="bak" style="opacity: 0.5;"></div>

<script>
    $(document).ready(function() {
        var currentUrl = window.location.href;
        if (currentUrl.includes('pay-thank-you-dpf')) {
            $(".dpf-step-block").css("display", "none");
        } else {
            if ($(window).width() < 768) {
                $(".dpf-step-block").css("display", "none");
            } else {
                $(".dpf-step-block").css("display", "block");
            }
        }
    });

    $("#openMenu").click(function() {
        $('.billing-sidenav').toggleClass('active');
    });

    document.querySelector('.sidebar-backdrop').addEventListener('click', function() {
        $('.billing-sidenav').toggleClass('active');
    });

    const overlayBg = document.getElementById('bak');
    const sideBarNav = document.getElementById("mySidenav");

    const screenWidth = window.innerWidth;

    overlayBg.addEventListener('click', function(event) {
        sideBarNav.style.width = "0";
        overlayBg.classList.add('d-none');
        overlayBg.classList.remove('fade', 'show');
    });

    $(".dpf-cancel-btn-wrap").on("click", function() {
        window.history.go(-1);
    });

    $(".dpf-header-wrap").children(".black-friday-full-wrap");


    $(".animate-logo").on("click", function(e) {
        var ripple = $('<span>');
        ripple.addClass('ripple');

        var max = Math.max($(this).width(), $(this).height());

        ripple.css('width', max * 2 + 'px');
        ripple.css('height', max * 2 + 'px');

        var rect = $(this).offset();

        ripple.css('left', event.pageX - rect.left - max + 'px');
        ripple.css('top', event.pageY - rect.top - max + 'px');

        $(this).append(ripple);
    });

</script>        

<div class="section-login-signup plan-dpf-main-wrapper plan-cards-main-wrap set-scaler height-adjust-wrp " style="padding-bottom: 25px;">
	<div class="container ">
		<div class="-main-cols plans-pick ">
			<div class="right-pad">
				<div class="-col-form w-100">
					<div class="-logo-wrapper-shadow"></div>
					<div class="-logo-wrapper">
						<img src="./Planos e preços_files/brand_logo.webp" alt="QR Generator.ai" class="-logo" loading="lazy">
					</div>
					<form id="register-nsf-form" method="post" role="form" style="padding-top: 65px;" onkeydown="return event.key != &#39;Enter&#39;;">
						<div class="-form-title">
							Baixar seu QR code						</div>
						<div class="-form-subtitle">
							Selecione um plano para acessar, baixar e gerenciar seus QR codes						</div>

						<div class="dpf-plans-wrap" id="dpf-plans-wrap">
							<div class="plan plan-1 ">
								<div class="friday-dis-wrap d-none">
									<span class="txt-fri-dis">70%</span>
								</div>
								<div class="friday-dis-wrap most-popular d-none">
									<span class="txt-fri-dis">70%</span>
								</div>
								<div class="plan-card">
									<input type="radio" id="dpfPlan1" name="dpf-plan" value="dpfPlan1">
									<div class="card-wrp">
										<label for="dpfPlan1" class="">
											<span class="dpfplan-title set-font-size">Acesso limitado de 14 dias</span>
																							<span class="dpf-plan-price us-canda-price-text">R$7.45</span></label>
										<div class="friday-price-wrap d-none">
											<span class="pay-currency">R$&nbsp;24.85</span>
										</div>
																		</div>
								</div>
							</div>

							<div class="plan plan-2 most-popular">
								<div class="plan-card">
									<input type="radio" id="dpfPlan2" name="dpf-plan" value="dpfPlan2" checked="">
									<div for="dpfPlan2" class="card-wrp">
										<label for="dpfPlan2" class="">
											<span class="dpfplan-title set-font-size">Acesso total de 14 dias</span>
																							<span class="dpf-plan-price us-canda-price-text">R$10.95</span></label>
										<div class="friday-price-wrap friday-price-offer-wrap d-none">
											<span class="pay-currency friday-price-currency">R$&nbsp;36.50</span>
										</div>
																		</div>
									<div class="badge-wrp"><span>Mais popular</span></div>
								</div>
							</div>
							<div class="plan plan-3">
								<div class="friday-dis-wrap d-none">
									<span class="txt-fri-dis">60%</span>
								</div>
								<div class="plan-card">
									<input type="radio" id="dpfPlan3" name="dpf-plan" value="dpfPlan3">
									<div class="card-wrp">
										<label for="dpfPlan3" class=""><span class="dpfplan-title">Plano anual</span>
																							<span class="dpf-plan-price us-canda-price-text">R$99 / mo</span></label>
										<div class="friday-price-wrap d-none">
											<span class="pay-currency">R$&nbsp;247.50&nbsp;/ mo</span>
										</div>
																		</div>
								</div>
							</div>

							<div class="button-wrp">
								<a href="https://qr-generator.ai/pay-dpf/6?qr_onboarding=active_dpf" id="user_plan_url" type="button" class="-btn-submit nfs-submit-btn mx-auto dpf-plan-btn add-to-cart">
									<span class="dpf-submit-text">Continuar</span>
									<div class="dpf-spinner default-spinner" style="display: none;"></div>
								</a>
							</div>
						</div>

						<hr class="dpf-hr d-none">

						<div class="mobile-qr">
							<div class="col-qr-image dpf-qr-wrap mx-auto">
								<div class="dpf-pay-qr-header mt-3 d-flex justify-content-center">
									<div class="check-icon-wrap">
										<div class="check-icon"></div>
									</div>
									<div class="heading-wrp">
										<p>Seu QR code está pronto</p>
									</div>
								</div>
								<div class="qr-wrap">
								<object id="plan-dpf-qr-code" data="blob:https://qr-generator.ai/5357f920-71bf-438b-ad84-42bd6c24278e" class="img-fluid scan-img-obj" style="height:300px; pointer-events:none; max-width:300px"></object>
									<span class="corners-set corners-up"></span>
									<span class="corners-set corners-down"></span>
								</div>
							</div>
						</div>

						<div class="section-email-feature row row-cols-md-2 mt-6">
							<div class="feature-detail">
								<div class="detail d-flex">
									<div class="feature-icon-area">
										<i class="dpf-plan-icon icon-email text-success"></i>
									</div>
									<div class="feature-item-detail">
										<p class="item-description"> Receba seu QR code por e-mail										</p>
									</div>
								</div>
							</div>
							<div class="feature-detail">
								<div class="detail d-flex">
									<div class="feature-icon-area ">
										<i class="dpf-plan-icon icon-qr-multiple text-success"></i>
									</div>
									<div class="feature-item-detail">
										<p class="item-description 1 acces-text"> Baixe seu QR code em vários formatos</p>
										<p class="item-description 1 d-none limited-acces-text" style="display: none;"> Formatos de download limitados</p>
									</div>
								</div>
							</div>
							<div class="feature-detail">
								<div class="detail d-flex">
									<div class="feature-icon-area ">
										<i class="dpf-plan-icon icon-qr-edit-sq text-success"></i>
									</div>
									<div class="feature-item-detail">
										<p class="item-description 4"> Edite o conteúdo do seu QR code mesmo depois de imprimi-lo</p>

									</div>
								</div>
							</div>
							<div class="feature-detail">
								<div class="detail d-flex">
									<div class="feature-icon-area ">
										<i class="dpf-plan-icon icon-scan-barcode text-success"></i>
									</div>
									<div class="feature-item-detail">
										<p class="item-description 3 acces-text"> Crie QR codes ilimitados</p>
										<p class="item-description 4 d-none limited-acces-text" style="display: none;"> Crie um QR code</p>
									</div>
								</div>
							</div>
							<div class="feature-detail">
								<div class="detail d-flex">
									<div class="feature-icon-area ">
										<i class="dpf-plan-icon icon-activity text-success"></i>
									</div>
									<div class="feature-item-detail">
										<p class="item-description 5"> Monitore seus QR codes com análises robustas</p>
									</div>
								</div>
							</div>
							<div class="feature-detail">
								<div class="detail d-flex">
									<div class="feature-icon-area ">
										<i class="dpf-plan-icon icon-qr-manage text-success"></i>
									</div>
									<div class="feature-item-detail">
										<p class="item-description 2"> Gerencie todos os seus QR codes em um só lugar</p>
									</div>
								</div>
							</div>
							<div class="feature-detail">
								<div class="detail d-flex">
									<div class="feature-icon-area">
										<i class="dpf-plan-icon icon-qr-more text-success"></i>
									</div>
									<div class="feature-item-detail">
										<p class="item-description 6"> E muito mais!</p>
									</div>
								</div>
							</div>
						</div>
						<!-- </form> -->
						<div class="plan-dpf-paymethod-wrap">
							<hr class="d-sm-none">
							<div class="plan-dpf-paymethod-title-wrap d-flex justify-content-center align-items-center">
								<div class="shield-icon-wrap">
									<div class="shield-icon">
										<!-- <img src="https://qr-generator.ai/themes/altum/assets/images/shield.png" alt="" class="img-fluid"> -->
										<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><defs><style>.cls-1{fill:#fff;}</style></defs><g id="Layer_2" data-name="Layer 2"><g id="objects"><path fill="var(--brand-color-primary)" d="M26.24,5.26h0S13.34,0,13.25,0h.16V0S.56,5.51.56,5.51h0a21.61,21.61,0,0,0-.52,5c0,10.43,5.54,18,13.28,21.25h0C21,28.47,26.66,20.76,26.66,10.34A23.66,23.66,0,0,0,26.24,5.26Z"></path><path class="cls-1" d="M11,21.59a1.05,1.05,0,0,1-.74-.3l-4.7-4.7a1,1,0,0,1,0-1.48,1,1,0,0,1,.74-.3,1,1,0,0,1,.74.3l4,3.95,8.66-8.64a1,1,0,0,1,.74-.31,1.05,1.05,0,0,1,.74,1.79l-9.4,9.39A1,1,0,0,1,11,21.59Z"></path></g></g></svg>
									</div>
								</div>
								<div class="plan-dpf-pay-method-text-wrap ps-2">
									<span class="plan-dpf-paymethod-title"> Garantido <span class="plan-paymethod-green">seguro</span> Finalização da compra</span>
								</div>
							</div>

							<div class="plan-dpf-paymethod-cards-wrap py-4">
								<div class="dpf-pay-method-wrap d-flex">
									<div class="pay-method-card col">
										<div class="pay-card">
											<div class="image-card-wrap">
												<img src="./Planos e preços_files/visa.webp" class="img-fluid" alt="">
											</div>
										</div>
									</div>
									<div class="pay-method-card col">
										<div class="pay-card">
											<div class="image-card-wrap">
												<img src="./Planos e preços_files/master.webp" class="img-fluid" alt="">
											</div>
										</div>
									</div>
									<div class="pay-method-card col">
										<div class="pay-card">
											<div class="image-card-wrap">
												<img src="./Planos e preços_files/google-pay.webp" class="img-fluid" alt="">
											</div>
										</div>
									</div>
									<div class="pay-method-card col">
										<div class="pay-card">
											<div class="image-card-wrap">
												<img src="./Planos e preços_files/amreican-express.webp" class="img-fluid" alt="">
											</div>
										</div>
									</div>
									<div class="pay-method-card col">
										<div class="pay-card">
											<div class="image-card-wrap">
												<img src="./Planos e preços_files/apple-pay.webp" class="img-fluid" alt="">
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>

				
						<div class="payment-policy-wrap mt-3 dfg">
								<span class="dpf-policy-text text-center not-annual-plan-policy">
											<span class="text-annual-plan-dpf">
												O plano selecionado fornece acesso ao QR Generator.ai por 14 dias. Após esse período, o serviço será renovado automaticamente para R$&nbsp;244, cobrado mensalmente. Cancele a qualquer momento. <b>Garantia de devolução do dinheiro em 30 dias</b>. Você poderá cancelar entrando em contato conosco no seguinte endereço <a href="mailto:support@qr-generator.ai">support@qr-generator.ai</a> para que o valor pago seja reembolsado. Nosso objetivo é a satisfação do cliente.											</span>
									
								</span>
								<span class="dpf-policy-text text-center annual-plan-policy" style="display:none;">
											<span class="text-annual-plan-dpf">
												O plano selecionado fornece acesso ao QR Generator.ai e renova a cada 12 meses em  <span style="display:inline-block;">R$&nbsp;1,188 </span> até ser cancelado. Cancele a qualquer momento diretamente da sua conta. Consulte nossos <a class="terms-link" target="_blank" href="https://qr-generator.ai/terms-and-conditions">Termos e Condições</a> para mais detalhes.											</span>
									
								</span>
						</div>

						<div class="paln-dpf-mobile-q-area d-none">
							<div class="plan-dpf-q-wrap bg-white">
								<div class="plan-dpf-q-heading">
									<span class="q-title">
										Perguntas Frequentes									</span>
								</div>
								<div class="q-cards">
									<div class="q-full-card">
										<div class="q-card-wrap row w-100">
											<div class="q-icon-full-wrap col-sm-1 col">
												<div class="q-icon-wrap rounded-circle">
												</div>
											</div>
											<div class="q-text-area col-sm col-10">
												<p class="q-title">Como faço para baixar o meu QR code?</p>
												<span class="q-answer">Depois de efetuar o pagamento, você receberá seu QR code imediatamente por e-mail. Você também pode acessá-lo em seu painel de usuário, onde terá a possibilidade de imprimir ou baixar em formatos como JPEG, PNG, SVG, PDF e EPS.</span>
											</div>
										</div>
									</div>
									<div class="q-full-card">
										<div class="q-card-wrap row w-100">
											<div class="q-icon-full-wrap col-sm-1 col">
												<div class="q-icon-wrap rounded-circle">
												</div>
											</div>
											<div class="q-text-area col-sm col-10">
												<p class="q-title">Posso usar meus QR codes para fins comerciais?												</p>
												<span class="q-answer">Com certeza. Depois de baixados, os QR codes podem ser usados para qualquer finalidade, inclusive comercial.</span>
											</div>
										</div>
									</div>
									<div class="q-full-card">
										<div class="q-card-wrap row w-100">
											<div class="q-icon-full-wrap col-sm-1 col">
												<div class="q-icon-wrap rounded-circle">
												</div>
											</div>
											<div class="q-text-area col-sm col-10">
												<p class="q-title">Posso editar o conteúdo do meu QR code depois de impresso?</p>
												<span class="q-answer">Com os QR codes dinâmicos, é possível editar o conteúdo quantas vezes forem necessárias. São projetados para permitir a edição do conteúdo mesmo depois da criação e impressão, ou seja, permitem atualizações fáceis sem a necessidade de substituição do QR code impresso por um novo.</span>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</form>
				</div>
			</div>

			<div class="left-pad desktop-qr">
				<div class="desktop-qr col-qr-image dpf-qr-wrap w-100">
					<div class="plan-dpf-qr-full-wrap d-flex justify-content-center align-items-center flex-column">
						<div class="dpf-pay-qr-header mt-3 d-flex justify-content-center">
							<div class="check-icon-wrap">
								<div class="check-icon"></div>
							</div>
							<div class="heading-wrp">
								<p>Seu QR code está pronto</p>
							</div>
						</div>

						<div class="qr-wrap p-4">
							<object data="./Planos e preços_files/0Wq5LU.svg" class="img-fluid scan-img-obj" style="height: 350px;pointer-events: none;max-width:310px"></object>
							<span class="corners-set corners-up"></span>
							<span class="corners-set corners-down"></span>
						</div>
					</div>

					<div class="plan-dpf-q-wrap desktop-q-area">
						<div class="plan-dpf-q-heading">
							<span class="q-title">
								Perguntas Frequentes							</span>
						</div>
						<div class="q-cards">
							<div class="q-full-card">
								<div class="q-card-wrap row w-100">
									<div class="q-icon-full-wrap col-1">
										<div class="q-icon-wrap rounded-circle">
										</div>
									</div>
									<div class="q-text-area col">
										<p class="q-title">Como faço para baixar o meu QR code?</p>
										<span class="q-answer">Depois de efetuar o pagamento, você receberá seu QR code imediatamente por e-mail. Você também pode acessá-lo em seu painel de usuário, onde terá a possibilidade de imprimir ou baixar em formatos como JPEG, PNG, SVG, PDF e EPS.</span>
									</div>
								</div>
							</div>
							<div class="q-full-card">
								<div class="q-card-wrap row w-100">
									<div class="q-icon-full-wrap col-1">
										<div class="q-icon-wrap rounded-circle">
										</div>
									</div>
									<div class="q-text-area col">
										<p class="q-title">Posso usar meus QR codes para fins comerciais?										</p>
										<span class="q-answer">Com certeza. Depois de baixados, os QR codes podem ser usados para qualquer finalidade, inclusive comercial.</span>
									</div>
								</div>
							</div>
							<div class="q-full-card">
								<div class="q-card-wrap row w-100">
									<div class="q-icon-full-wrap col-1">
										<div class="q-icon-wrap rounded-circle">
										</div>
									</div>
									<div class="q-text-area col">
										<p class="q-title">Posso editar o conteúdo do meu QR code depois de impresso?</p>
										<span class="q-answer">Com os QR codes dinâmicos, é possível editar o conteúdo quantas vezes forem necessárias. São projetados para permitir a edição do conteúdo mesmo depois da criação e impressão, ou seja, permitem atualizações fáceis sem a necessidade de substituição do QR code impresso por um novo.</span>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="plan-dpf-rate-wrap p-3 mt-3 ">
			<div class="rate-head-wrap">
				<span class="rate-head-title">Não acredite apenas na nossa palavra</span>
				<div class="rate-full-wrap d-flex justify-content-center align-items-center mt-1">
					<div class="rate-wrap">
						<span class="rate-subheading">Avaliação dos clientes 4,9/5</span>
					</div>
					<div class="rate-stars-wrap ps-3">
						<span class="rate-star icon-qr-star"></span>
						<span class="rate-star icon-qr-star"></span>
						<span class="rate-star icon-qr-star"></span>
						<span class="rate-star icon-qr-star"></span>
						<span class="rate-star icon-qr-star"></span>
					</div>
				</div>
			</div>
			<div class="review-full-wrap">
				<div class="review-cards-wrap row w-100 m-auto">
											<div class="col-lg-4">
								<div class="review-card p-3 py-4">
										<div class="review-text-wrap">
												<span class="reivew-text ">
														Usar o QR Generator.ai é muito fácil, mesmo para alguém pouco tecnológico como eu! Alguns outros geradores de QR codes que eu experimentei eram muito complicados, mas esta ferramenta possui uma interface simples que simplifica a criação e a edição dos meus QR codes.												</span>
										</div>
										<div class="reviewer-full-wrap mt-auto">
												<div class="reviewer-detail-wrap d-flex">
														<div class="reviewer-image">
																			
																			<img translate="no" src="./Planos e preços_files/1.webp" alt="Daniel Brooks" class="img-fluid">
														</div>
														<div class="ps-3 reviewer-detail d-flex justify-content-center align-items-start flex-column">
																																			<p class="reviewer-name">Daniel Brooks</p>
																<span class="reviewer-position">Proprietário de restaurante</span>
														</div>
												</div>
										</div>
								</div>
						</div>
											<div class="col-lg-4">
								<div class="review-card p-3 py-4">
										<div class="review-text-wrap">
												<span class="reivew-text ">
														Eu crio muitos QR codes para o meu trabalho e acho que o QR Generator.ai tem as ferramentas de gerenciamento mais intuitivas do mercado. Quando alguém tem dezenas de QR codes como eu, precisa de uma plataforma que simplifique o rastreamento e a edição dos códigos, e é por isso que uso esta ferramenta.												</span>
										</div>
										<div class="reviewer-full-wrap mt-auto">
												<div class="reviewer-detail-wrap d-flex">
														<div class="reviewer-image">
																			
																			<img translate="no" src="./Planos e preços_files/2.webp" alt="Sofia Bennett" class="img-fluid">
														</div>
														<div class="ps-3 reviewer-detail d-flex justify-content-center align-items-start flex-column">
																																			<p class="reviewer-name">Sofia Bennett</p>
																<span class="reviewer-position">Executivo de vendas</span>
														</div>
												</div>
										</div>
								</div>
						</div>
											<div class="col-lg-4">
								<div class="review-card p-3 py-4">
										<div class="review-text-wrap">
												<span class="reivew-text ">
														Papo reto: todo mundo deveria usar este gerador de QR codes para criar códigos dinâmicos! É de longe a minha ferramenta favorita disponível online. Eu economizo tempo e dinheiro, especialmente quando preciso editar os meus QR codes. Valeu, QR Generator.ai!												</span>
										</div>
										<div class="reviewer-full-wrap mt-auto">
												<div class="reviewer-detail-wrap d-flex">
														<div class="reviewer-image">
																			
																			<img translate="no" src="./Planos e preços_files/3.webp" alt="Mateus Silva" class="img-fluid">
														</div>
														<div class="ps-3 reviewer-detail d-flex justify-content-center align-items-start flex-column">
																																			<p class="reviewer-name">Mateus Silva</p>
																<span class="reviewer-position">Especialista em Marketing Digital</span>
														</div>
												</div>
										</div>
								</div>
						</div>
									</div>
			</div>
		</div>
		<div class="plan-dpf-footer-wrap p-2 d-sm-none">
			<span class="term-text-1 text-center d-block">Termos e Condições</span>
			<span class="term-text-2 text-center d-block">2025 © QR Generator.ai Todos os direitos reservados - ‘QR Code’ é uma marca registrada da</span>
			<span class="term-text-1 text-center d-block">DENSO WAVE INCORPORADO</span>
		</div>
	</div>
</div>
<div id="confirmationModal" style="display: none;position:absolute;top:50%;left:50%;opacity:0;transform:translate(-50%,-50%);background-color:#fff;z-index:-1000;">
	<div>
		<p>Are you sure you want to leave this page?</p>
		<button class="btn leave-alert-accept" onclick="confirmLeave()">Yes</button><br>
		<button class="btn" onclick="closeModal()">No</button>
	</div>
</div>



	<script>
		// Data Layer Implementation (GTM)
		$(document).on('click', '.add-to-cart', function() {

			const selectedOption = document.querySelector('input[name="dpf-plan"]:checked').id;
			var event = "add_to_cart";

			var data = {
				"userId": "qga-4897583",
				'plan_name': planPrice(selectedOption)[1],
				'plan_value': planPrice(selectedOption)[0].replace(/,/g, ''),
				'plan_currency': "BRL",
				'user_type': 'New User',
				'funnel': 'DPF',
				'gaid': 'BR-PT-BR-C-DPF'

			}
			googleDataLayer(event, data);
		})
	</script>

<script>
	function planPrice(selectedOption) {
		let price;
		let name;
		let data;
		switch (selectedOption) {
			case 'dpfPlan1':
				price = '7.45';
				name = '14 Day Limited Access';
				break;
			case 'dpfPlan2':
				price = '10.95';
				name = '14 Day Full Access';
				break;
			case 'dpfPlan3':
				price = '1,188';
				name = 'Annually';
				break;
		}

		data = [price, name];
		return data;

	}

	$( document ).ready(function() {
		getDataFromSvg('png', ['https://qr.view.page/uploads/qr_codes/0Wq5LU.svg']).then(data => {
			var formData = new FormData();
			formData.append('file', data[0]);
			formData.append('action', 'upload_mail_Qr');
			formData.append('name', '0Wq5LU.png');
			formData.append('step_4', 'false');

			$.ajax({
				type: 'POST',
				url: 'https://qr-generator.ai/api/guest_data',
				data: formData,
				contentType: false,
				processData: false,
				success: function(response) {},
				error: function(error) {
					console.error(error);
				}
			});

		}).catch(console.warn);
	});

	const setSvgSize = (svgPath, size) => {
        return new Promise(resolve => {
            const fr = new FileReader();
            fetchSvg(svgPath).then((res) => {
                fr.readAsText(res);
                fr.onload = () => {
                    const svgRes = String(fr.result);
                    const doc = new DOMParser().parseFromString(svgRes, "image/svg+xml");
                    const svgElm = doc.documentElement
                    if (svgElm.hasAttribute('width') && svgElm.hasAttribute('height')) {
                        svgElm.setAttribute('width', size);
                        svgElm.setAttribute('height', size);
                        resolve(svgElm.outerHTML);
                    } else {
                        resolve(svgRes);
                    }
                }
            })
        })
    }

	$(document).ready(function () {
		const svgUrl = 'https://qr.view.page/uploads/qr_codes/0Wq5LU.svg?1764867037';
		// Settting SVG size to match the wrapper size to avoid ui issues in mobile view
		setSvgSize(svgUrl, '300px').then((res) => {
			$('#plan-dpf-qr-code').attr('data', URL.createObjectURL(new Blob([res], {
				type: "image/svg+xml"
			})));
		});
	})

</script>

<script>
	function checkUserOnlineStatus(status = 'online') {
		var data = {
			action: 'check_user_online_status',
			status: status,			
		}

		$.ajax({
			type: 'POST',
			url: 'https://qr-generator.ai/api/auth_data',
			data: data,
			dataType: 'json',
			success: function(response) {},
			error: function(error) {
				console.error(error);
			}
		});
	}

	if (window.Worker) {           
		const worker = new Worker('https://qr-generator.ai/themes/altum/assets/js/worker.js');   
		const interval = 15000; // 30 seconds
		worker.postMessage(interval);
		
		worker.onmessage = function(e) {
			if (e.data === 'tick') {                  
				checkUserOnlineStatus();
			}
		};	
		
	} else {
		setInterval(() => {		
			checkUserOnlineStatus();
		}, 15000);
	}
	
</script>

<script>
	$(document).ready(function() {
		var elements = $('.dpfplan-title');
		elements.each(function(index, element) {
			var textLength = $(element).text().length;
			if (textLength > 20) {
				$(element).addClass('set-font-size');
			}
		});
	});
	$(document).ready(function() {
		$(document).find('#user_plan_url').attr('href', `${url}pay-dpf/6?qr_onboarding=active_dpf`);
	});

	let isSubmit = false;

	document.getElementById('dpf-plans-wrap').addEventListener('click', function(event) {
		isSubmit = true;
		const selectedOption = document.querySelector('input[name="dpf-plan"]:checked').id;
		let content;
		var link = document.getElementById("user_plan_url");

		switch (selectedOption) {
			case 'dpfPlan1':
				content = `${url}pay-dpf/7?qr_onboarding=active_dpf`;
				break;
			case 'dpfPlan2':
				content = `${url}pay-dpf/6?qr_onboarding=active_dpf`;
				break;
			case 'dpfPlan3':
				content = `${url}pay-dpf/2?qr_onboarding=active_dpf`;
				break;
			default:
				content = `${url}pay-dpf/6?qr_onboarding=active_dpf`;
				break;
		}

		link.setAttribute('href', content);

	});

	let confirmedLeave = false;

	function confirmLeave() {
		confirmedLeave = true;
		window.location.replace('https://qr-generator.ai/');
	}

	$(".animate-logo").on("click", function(e) {
		if ($(window).width() < 768) {
			isSubmit = true;
			getAlert();
			e.preventDefault();
			window.location.href = "https://qr-generator.ai/";
		}
	});

	$(".dpf-plan-btn").on("click", function() {
		isSubmit = true;
		getAlert();
	});

	window.addEventListener('beforeunload', function(event) {
		if (!isSubmit) {
					} else {
					}
	});

	function getAlert() {
		if (!isSubmit) {
			window.onbeforeunload = function(e) {
				if (!confirmedLeave) {
					openModal();
					return "Are you sure you want to leave this page?";
				}
			};

			function openModal() {
				const modal = document.getElementById("confirmationModal");
				modal.style.display = "block";
				setTimeout(function() {
					$(".leave-alert-accept").trigger("click");
				}, 800);
			}

		} else {
			// If isSubmit is true, disable the onbeforeunload function
			window.onbeforeunload = null;
		}
	}

	function getBrowserBackAlert() {
		window.onbeforeunload = function(e) {
			return "Are you sure you want to leave this page?";
		};
		openModalInBack();
		createBrowserHistory();
		isSubmit = false;
		confirmedLeave = false;
		getAlert();
	}

	function defaultLeaveAlert() {
		window.onbeforeunload = function(e) {
			return "Are you sure you want to leave this page?";
		};
	}

	function openModalInBack() {
		const modal = document.getElementById("confirmationModal");
		modal.style.display = "block";
		$(".leave-alert-accept").trigger("click");
	}

	$(".animate-logo").on("click", function() {
		isSubmit = true;
		getAlert();
		defaultLeaveAlert();
	});

	getAlert();

	$(".plan-card").on("click", function() {
		toggleFeature();
	});

	$(document).ready(function() {
		setTimeout(function() {
			toggleFeature();
		}, 500);

		createBrowserHistory();
	});

	function createBrowserHistory() {
		var dpfUrl = window.location.href;

		history.pushState({
			page: "plan-dpf"
		}, "plan-dpf", dpfUrl);

	}

	function toggleFeature() {
		if ($('#dpfPlan1').is(':checked')) {
			$(".limited-acces-text").show();
			$(".limited-acces-text").removeClass("d-none");
			$(".acces-text").hide();
		} else {
			$(".limited-acces-text").hide();
			$(".limited-acces-text").addClass("d-none");
			$(".acces-text").show();
		}
		

		if ($('#dpfPlan3').is(':checked')) {
			$(".not-annual-plan-policy").hide();
			$(".annual-plan-policy").show();
		} else {
			$(".not-annual-plan-policy").show();
			$(".annual-plan-policy").hide();
		}
	}

	$("#user_plan_url").on("click", function() {
		$('.dpf-submit-text').addClass("invisible");
		$('.dpf-spinner').show();
		$(this).css('pointer-events', 'none');
	});
</script>

<script>
	// Set the time (in milliseconds) for inactivity before redirect
	const inactivityTimeout = 30 * 60 * 1000; // 60 minutes

	let timeout;

	function resetTimer() {
		clearTimeout(timeout);
		timeout = setTimeout(redirectToHomepage, inactivityTimeout);
	}

	function redirectToHomepage() {
		// redirect to dashboard
		window.onbeforeunload = null;
		window.location.href = 'https://qr-generator.ai/';
	}

	// Reset the timer when there's user activity
	document.addEventListener('mousemove', resetTimer);
	document.addEventListener('keypress', resetTimer);
	document.addEventListener('touchstart', resetTimer);

	// Initial timer start
	resetTimer();
</script>

<script>
	// Data Layer Implementation (GTM)
	window.addEventListener('load', (event) => {

					let method = 'Email';			
			let email = 'mateuspaglia@gnail.com';				
			let gaid = 'BR-PT-BR-C-DPF';				
			let user_id = 'qga-4897583';				
			let funnel = 'dpf';


			$.ajax({
				type: 'POST',
				url: 'https://qr-generator.ai/api/auth_data',
				data: {					
					method: method,					
					action: 'saveRegisterUser',
				},
				success: function(response) {
					if (response.data.newUser == true) {
						var event = "registration";
						var registerData = {
							"userId": user_id,
							"method": method,
							"entry_point": 'DPF',							
							"funnel": 'DPF',
							"email": email,
							"gaid": gaid
						}
						googleDataLayer(event, registerData);
					}
				}
			})
			})

	window.addEventListener("resize", () => {
		const windowWidth = window.innerWidth;
		if (windowWidth < 900) {
			$(".plan-dpf-rate-wrap").appendTo(".plan-cards-main-wrap form");
		} else {
			$(".plan-dpf-rate-wrap").appendTo(".plan-cards-main-wrap .container");
		}
		if (windowWidth < 768) {
			$(".plan-dpf-footer-wrap").appendTo(".plan-cards-main-wrap form");
		}
	});

	if ($(window).width() > 1200) {
		getObjectHeight();
	}

	function getObjectHeight() {
		setTimeout(function() {
			var qrContentHeight = $('.scan-img-obj').contents().find('svg').height();
			if (qrContentHeight > 300) {
				$(".plan-cards-main-wrap .desktop-q-area").addClass("frame-qr-add");
				$("#dpf-plans-wrap").addClass("qr-frame-active");
			} else {
				$(".plan-cards-main-wrap .desktop-q-area").removeClass("frame-qr-add");
				$("#dpf-plans-wrap").removeClass("qr-frame-active");
			}
		}, 1000);
	}

	if ($(".dpf-header-wrap").children(".black-friday-full-wrap")) {
		// $(".plan-dpf-main-wrapper").addClass("is-black-friday"); // get Black Friday Styles
	} else {
		// $(".plan-dpf-main-wrapper").removeClass("is-black-friday"); // get Black Friday Styles
	}

	if ($(".plan-dpf-main-wrapper").hasClass("is-black-friday")) {
		$(".usd-price-wrap").addClass("d-none");
		$(".friday-price-wrap").removeClass("d-none");
		$(".friday-price-wrap").removeClass("d-block");
	} else {
		$(".usd-price-wrap").addClass("d-block");
		$(".usd-price-wrap").removeClass("d-none");
	}

	window.addEventListener('popstate', function(event) {
		isSubmit = true;
		confirmedLeave = true;
		getAlert();
		getBrowserBackAlert();
	});

	$(document).ready(function() {
		$(".dpf-spinner").hide();

		var thisClass = $('.plan-dpf-main-wrapper .dpf-plans-wrap .plan .plan-card .card-wrp label .dpf-plan-price.us-canda-price-text');
		var nextClass = thisClass.closest('label').next().attr('class');

		if (nextClass !== 'usd-price-wrap usd-offer-wrap d-block') {
			if (window.matchMedia("(max-width: 400px)").matches) {
				thisClass.css({
					'margin-bottom': '0px',
				});
			}
		}
	});
</script>

        
                
<input type="hidden" name="global_site_url" value="https://qr-generator.ai/">
<input type="hidden" name="global_url" value="https://qr-generator.ai/">
<input type="hidden" name="global_token" value="b0cdc7364c08af4f6a9ba802f6970f17">
<input type="hidden" name="global_number_decimal_point" value=".">
<input type="hidden" name="global_number_thousands_separator" value=";">

<script>
    /* Some global variables */
    window.altum = {};
    let global_token = document.querySelector('input[name="global_token"]').value;
    let site_url = document.querySelector('input[name="global_site_url"]').value;
    let url = document.querySelector('input[name="global_url"]').value;
    let decimal_point = document.querySelector('[name="global_number_decimal_point"]').value;
    let thousands_separator = document.querySelector('[name="global_number_thousands_separator"]').value;
</script>
 

                    <script src="./Planos e preços_files/popper.min.js.download"></script>
                    <script src="./Planos e preços_files/bootstrap.min.js.download"></script>
                    <script src="./Planos e preços_files/repeater.js.download"></script>
                    <script src="./Planos e preços_files/fontawesome.min.js.download"></script>
                    <script src="./Planos e preços_files/fontawesome-solid.min.js.download"></script>
                    <script src="./Planos e preços_files/fontawesome-brands.modified.js.download"></script>
                <script src="./Planos e preços_files/jquery.min.js.download"></script>
        <script src="./Planos e preços_files/animation.js.download"></script>

        <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script> -->


<script>
    /* Vcard Social Script */
    'use strict';

    /* add new */
    let vcard_social_add = event => {
        let clone = document.querySelector(`#template_vcard_social`).content.cloneNode(true);
        let count = document.querySelectorAll(`[id="vcard_socials"] .mb-4`).length;

        if (count >= 20) return;

        clone.querySelector(`input[name="vcard_social_label[]"`).setAttribute('name', `vcard_social_label[${count}]`);
        clone.querySelector(`input[name="vcard_social_value[]"`).setAttribute('name', `vcard_social_value[${count}]`);

        document.querySelector(`[id="vcard_socials"]`).appendChild(clone);

        vcard_social_remove_initiator();

        apply_reload_qr_code_event_listeners();
    };

    document.querySelectorAll('[data-add="vcard_social"]').forEach(element => {
        element.addEventListener('click', vcard_social_add);
    })

    /* remove */
    let vcard_social_remove = event => {
        event.currentTarget.closest('.mb-4').remove();
    };

    let vcard_social_remove_initiator = () => {
        document.querySelectorAll('[id^="vcard_socials_"] [data-remove]').forEach(element => {
            element.removeEventListener('click', vcard_social_remove);
            element.addEventListener('click', vcard_social_remove)
        })
    };

    vcard_social_remove_initiator();
</script>

<script>
    /* Vcard Phone Numbers */
    'use strict';

    /* add new */
    let vcard_phone_number_add = event => {
        let clone = document.querySelector(`#template_vcard_phone_number`).content.cloneNode(true);
        let count = document.querySelectorAll(`[id="vcard_phone_numbers"] .mb-4`).length;

        if (count >= 20) return;

        clone.querySelector(`input[name="vcard_phone_number[]"`).setAttribute('name', `vcard_phone_number[${count}]`);

        document.querySelector(`[id="vcard_phone_numbers"]`).appendChild(clone);

        vcard_phone_number_remove_initiator();

        apply_reload_qr_code_event_listeners();
    };

    document.querySelectorAll('[data-add="vcard_phone_number"]').forEach(element => {
        element.addEventListener('click', vcard_phone_number_add);
    })

    /* remove */
    let vcard_phone_number_remove = event => {
        event.currentTarget.closest('.mb-4').remove();
    };

    let vcard_phone_number_remove_initiator = () => {
        document.querySelectorAll('[id^="vcard_phone_numbers_"] [data-remove]').forEach(element => {
            element.removeEventListener('click', vcard_phone_number_remove);
            element.addEventListener('click', vcard_phone_number_remove)
        })
    };

    vcard_phone_number_remove_initiator();
</script>

<script>
    let scanLoadStatus;
    let frameFunctionStatus;
    var qrStatusframe = $("#qr_status").val();
    var hasTempQrLogo = false;
    let abortController = null;
    // 'use strict';

    /* Type handler */
    let type_handler = (selector, data_key) => {
        if (!document.querySelector(selector)) {
            return;
        }

        let type = null;
        if (document.querySelector(selector).type == 'radio') {
            type = document.querySelector(`${selector}:checked`) ? document.querySelector(`${selector}:checked`).value : null;
        } else {
            type = document.querySelector(selector).value;
        }

        document.querySelectorAll(`[${data_key}]:not([${data_key}="${type}"])`).forEach(element => {
            element.classList.add('d-none');
            let input = element.querySelector('input,select,textarea');

            if (input) {
                if (input.getAttribute('required')) {
                    input.setAttribute('data-is-required', 'true');
                }
                // if(input.getAttribute('disabled')) {
                //     input.setAttribute('data-is-disabled', 'true');
                // }
                input.setAttribute('disabled', 'disabled');
                input.removeAttribute('required');
            }
        });

        document.querySelectorAll(`[${data_key}="${type}"]`).forEach(element => {
            element.classList.remove('d-none');
            let input = element.querySelector('input,select,textarea');

            if (input) {
                input.removeAttribute('disabled');
                if (input.getAttribute('data-is-required')) {
                    input.setAttribute('required', 'required')
                }
                // if(input.getAttribute('data-is-disabled')) {
                //     input.setAttribute('disabled', 'required')
                // }
            }
        });
    }

    function disableQrStepSubmitButton(disableStatus = false){
        $("#temp_submit").attr("disabled", false);

        if($(window).width() > 576 && disableStatus === true){
            $("#temp_submit").attr("disabled", true);
        }
    }

    function disableQrStepNextButton(disableStatus = false){
        $("#temp_next").attr("disabled", false);

        if($(window).width() > 576 && disableStatus === true){
            $("#temp_next").attr("disabled", true);
        }
    }

    let previousFormData = null;

    function isFormDataChanged(formData) {
        const currentFormData = new Map(formData.entries());

        if (!previousFormData) {
            previousFormData = currentFormData;
            return false;
        }

        // For catch changed input feilds
        const changedInputFields = Array.from(currentFormData).filter(
            ([inputFieldName, inputValue]) => 
                inputFieldName !== 'qr_code' && 
                (!previousFormData.has(inputFieldName) || previousFormData.get(inputFieldName) !== inputValue)
        ).map(([inputFieldName]) => inputFieldName);

        if (changedInputFields.length > 0) {
            previousFormData = currentFormData;
            return true;
        }

        return false;
    }


    type_handler('select[name="type"]', 'data-type');
    document.querySelector('select[name="type"]') && document.querySelector('select[name="type"]').addEventListener('change', () => {
        type_handler('select[name="type"]', 'data-type');
        url_dynamic_handler()
    });

    type_handler('[name="foreground_type"]', 'data-foreground-type');
    document.querySelector('[name="foreground_type"]') && document.querySelectorAll('[name="foreground_type"]').forEach(element => {
        element.addEventListener('change', () => {
            type_handler('[name="foreground_type"]', 'data-foreground-type')
        });
    })

    type_handler('select[name="custom_eyes_color"]', 'data-custom-eyes-color');
    document.querySelector('select[name="custom_eyes_color"]') && document.querySelector('select[name="custom_eyes_color"]').addEventListener('change', () => {
        type_handler('select[name="custom_eyes_color"]', 'data-custom-eyes-color')
    });

    /* Url Dynamic handler */
    let url_dynamic_handler = () => {
        if (document.querySelector('select[name="type"]')) {
            let type = document.querySelector('select[name="type"]').value;

            if (type != 'url') {
                return;
            }
        }

        if (!document.querySelector('#url')) {
            return;
        }

        let url_dynamic = document.querySelector('#url_dynamic').checked;

        if (url_dynamic) {
            document.querySelector('#url').removeAttribute('required');
            document.querySelector('[data-url]').classList.add('d-none');
            document.querySelector('#link_id').setAttribute('required', 'required');
            document.querySelector('[data-link-id]').classList.remove('d-none');

            let link_id_element = document.querySelector('#link_id');
            if (link_id_element.options.length) {
                document.querySelector('#url').value = link_id_element.options[link_id_element.selectedIndex].text;
            }
        } else {
            document.querySelector('#link_id').removeAttribute('required');
            document.querySelector('[data-link-id]').classList.add('d-none');
            document.querySelector('#url').setAttribute('required', 'required');
            document.querySelector('[data-url]').classList.remove('d-none');
        }
    }

    if (document.querySelector('#url_dynamic')) {
        url_dynamic_handler();
        document.querySelector('#url_dynamic').addEventListener('change', url_dynamic_handler);
    }

    /* URL Dynamic Link_id handler */
    let link_id_handler = () => {
        let link_id_element = document.querySelector('#link_id');

        if (link_id_element && document.querySelector('#url_dynamic') && document.querySelector('#url_dynamic').checked) {
            document.querySelector('#url').value = link_id_element.options[link_id_element.selectedIndex].text;
        }
    }
    document.querySelector('#link_id') && document.querySelector('#link_id').addEventListener('change', link_id_handler);

    /* On change regenerated qr */
    let delay_timer = null;

    let apply_reload_qr_code_event_listeners = () => {
        document.querySelectorAll('[data-reload-qr-code]').forEach(element => {
            if(element.nodeName == "BUTTON"){
                element.removeEventListener('click', reload_qr_code_event_listener);
                element.addEventListener('click', reload_qr_code_event_listener);
            }else{
                ['change', 'paste','keyup'].forEach(event_type => {
                    element.removeEventListener(event_type, reload_qr_code_event_listener);
                    element.addEventListener(event_type, reload_qr_code_event_listener);
                })
            }
        });
    }

    let reload_qr_code_event_listener = async (event,qr_only=false) => {
        if($("input[name=\"current_step_input\"]").val() == 2 && !qr_only){
            return false
        }
        
        const currentStep = $("input[name=\"current_step_input\"]").val();

        if ($(window).width() < 576) {
            if (event) {
                const buttonClassList = event.target.classList ?? undefined;
                if (currentStep == 3 && buttonClassList != 'undefined') {
                    if (!buttonClassList.value.includes('preview-inner-content')) {
                        return false;
                    }
                }
            }
        }

        const qr_logo = document.getElementById("qr_code_logo");
        if(qr_logo && qr_logo.files.length){
            $('#qr_code_logo_remove').remove();
            if(! await checkFileType(qr_logo.files[0])){
                return false;
            }
        }
        
        const [file] = qr_logo.files;

        if (file) {
            sizeinMB = file.size / Math.pow(1024, 2);
            const isInvalidType = ! await checkFileType(file);
            
            if (sizeinMB > 1 || isInvalidType) {
                return false;
            }
        }
        
        if(!hasTempQrLogo) {
            const mimeToExt = {
                'image/jpeg': 'jpeg',
                'image/jpg': 'jpg',
                'image/png': 'png',
                'image/gif': 'gif',
                'image/webp': 'webp'
            };

            let tempQrLogoFile = null;
            let logoExtension = 'jpeg';
            let mimeType = 'image/jpeg';
            const qrLogoElement = document.getElementById('logo-upl-img');
            
            if($('#qr_status').val() == true && qrLogoElement != null && qrLogoElement.src != '') {
                await fetch(qrLogoElement.src)
                    .then(async response => {
                        mimeType = response.headers.get('content-type')
                        logoExtension = mimeToExt[mimeType];
                        
                        const blob = await response.blob()
                        tempQrLogoFile = new File([blob], `logo_tmp.${logoExtension}`, { mimeType })
                }).catch(error => {

                    if(qr_logo.files[0]) {
                        mimeType = qr_logo.files[0].type;
                        logoExtension = mimeToExt[mimeType];
                        tempQrLogoFile = qr_logo.files[0];
                    }
                });
            }
            else if(qr_logo.files[0]) {
                mimeType = qr_logo.files[0].type;
                logoExtension = mimeToExt[mimeType];
                tempQrLogoFile = qr_logo.files[0];
            }

            if(tempQrLogoFile) {
                await compressImage(tempQrLogoFile, 20, mimeType);
                hasTempQrLogo = true;
            }
        }

        if (!submitClicked || qr_only) {

            let form = document.querySelector('form#myform');
            if(!form) return false;
            let form_data = new FormData(form);

            // Checck image select and canceld
            if(event){
                var elementId = event.target.id;
                if (elementId != 'undefined' && elementId == 'qr_code_logo') {
                    if (form_data.get("qr_code_logo") && form_data.get("qr_code_logo").name == '') {
                        var logoUplImg = $('#logo-upl-img').attr('src');
                        if (typeof(logoUplImg) != 'undefined' && logoUplImg != '') {
                            return false;
                        }
                    }
                }
            }

            let step3Form = document.querySelector('form#myform #step3');

            if (!step3Form) return false;
            
            let step3FormData = new FormData();

            let step3Inputs = step3Form.querySelectorAll('input, select');

            step3Inputs.forEach(input => {
                if (!input.name) return;

                if (input.name) {
                    if (input.type === 'radio') {
                        if (input.checked) {
                            step3FormData.append(input.name, input.value);
                        }
                    } else if (input.type === 'checkbox') {
                        step3FormData.append(input.name, input.checked);
                    } else {
                        step3FormData.append(input.name, input.value);
                    }
                }
            });

            if (currentStep == 3 && isFormDataChanged(step3FormData) === false) {
                return false;
            }

            disableQrStepNextButton(true);

            disableQrStepSubmitButton(true);

            /* Add the preloader, hide the QR */
            $('#loader.qr').addClass('active');
            $('#qr-code-wrap').removeClass('active');

            /* Disable the submit button */
            if (document.querySelector('button[type="submit"]')) {
                document.querySelector('button[type="submit"]').classList.add('disabled');
                document.querySelector('button[type="submit"]').setAttribute('disabled', 'disabled');
            }

            // clearTimeout(delay_timer);

            disableQrStepSubmitButton(true);
            // var ajaxTime = new Date().getTime();
            // var totalTime;

            /* Send the request to the server */

            form_data.delete("screen");
            form_data.delete("companyLogo");
            form_data.delete("offerImage");
            form_data.delete("linkImages[]");
            form_data.delete("qr_code");
            form_data.append('qr_code_logo_compressed', $('#qr_code_logo_compressed').val());

            var formTypes = form_data.get("type");
            if (formTypes == "menu") {
                for (let key of form_data.keys()) {
                    if (key.startsWith('productImages_')) {
                        form_data.delete(key);
                    }
                };
            }


            let notification_container = form.querySelector('.notification-container');
            notification_container.innerHTML = '';

            disableQrStepSubmitButton(true);

            if (abortController) {
                abortController.abort();
            }

            abortController = new AbortController();
            const signal = abortController.signal;

            fetch(`${url}qr-code-generator`, {
                    method: 'POST',
                    body: form_data,
                    signal: signal
                })
                .then(response => response.ok ? response.json() : Promise.reject(response))
                .then(data => {
                    if (typeof ImagesUploading != 'undefined') {
                        if (ImagesUploading === false) {

                            $(".preview-qr-btn").attr("disabled", false);
                            disableQrStepNextButton(false);
                            disableQrStepSubmitButton(false);

                        }
                    } else {

                        disableQrStepNextButton(false);
                    }

                    if (data.status == 'error') {

                    } else if (data.status == 'success') {
                        display_notifications(data.message, 'success', notification_container);

                        $('#qr-code-wrap').html(data.details.image);

                        if (window?.sbdbg?.on) {

                        }

                        const scannabilityLevel = new QRQualityChecker(QRQualityChecker.parseDesignData(form_data));
                        if(scannabilityLevel.getResult().results.status){
                            $('#statusMsg').html('');
                        }else{
                            $('#statusMsg').html(`<div class="alert alert-danger"> 
                                                    A capacidade de leitura deste design de QR code pode não ser ideal. Recomendamos tentar a leitura do QR code para garantir que tudo esteja funcionando bem.                                                </div>`);
                        }

                        if (data.details.logo_error) {
                            $('#screensizeErrorMesg').remove();
                            $('#edit_QR_code_logo').val('');
                            $('#qr_code_logo').val('');
                            $('#logo_delete').click();
                            $('#qr_code_logo').parent().parent().parent().after(`<span id='screensizeErrorMesg' style='color:red;margin-top:15px;'>${data.details.logo_error}</span>`);

                            $("#logo-tmp-mage").css('display', 'flex');
                            $("#logo-upl-img").css('display', 'none');
                            $('#qr_code_logo').parent().css('border', '1px solid red');

                            $('#logo-upl-img').attr('src', '');

                            document.getElementById('logo_delete').style.display = "none";
                            document.getElementById('edit-logo-icon').style.display = "none";
                        }

                        const qrData = 'data:image/svg+xml;base64,' + btoa(unescape(encodeURIComponent(data.details.svg)));

                        if (document.querySelector('input[name="qr_code"]')) {
                            document.querySelector('input[name="qr_code"]').value = qrData;
                        }

                        /* Enable the submit button */
                        if (document.querySelector('button[type="submit"]')) {
                            document.querySelector('button[type="submit"]').classList.remove('disabled');
                            document.querySelector('button[type="submit"]').removeAttribute('disabled');
                        }

                        disableQrStepSubmitButton(false);
                    }

                    /* Hide the preloader, display the QR */
                    $('#loader.qr').removeClass('active');
                    $('#qr-code-wrap').addClass('active');

                    disableQrStepSubmitButton(false);

                })
                .catch(error => {
                    disableQrStepSubmitButton(true);

                });

        };
        submitClicked = false;
    }

    function makePDF(link, pWidth, pHeight, width, height, fileName, api_key,qrId) {

        width = width * 60 / 100;
        height = height * 60 / 100;

        const {
            jsPDF
        } = window.jspdf;
        let image = new Image;
        image.crossOrigin = 'anonymous';
        /* Convert SVG data to others */
        image.onload = function() {
            let canvas = document.createElement('canvas');
            canvas.width = 1000;
            canvas.height = 1200;
            const marginX = (pWidth - width) / 2;
            const marginY = (pHeight - height) / 2;
            let context = canvas.getContext('2d');
            context.drawImage(image, 0, 0, 1000, 1200);
            let data = canvas.toDataURL(`image/png`, 1);
            // const pdf = new jsPDF(); 
            var pdf = new jsPDF('p', 'mm', [pWidth, pHeight], true);
            pdf.addImage(data, 'PNG', marginX, marginY, width, height, '', 'FAST')
            pdf.setProperties({
                title: fileName,
                author: "QR Generator.ai",
                subject: fileName,
                keywords: 'qr,generator',
                creator: 'QR Generator.ai'
            })
            // pdf.save(fileName);
            var blob = pdf.output('blob');
            var formData = new FormData();
            formData.append('file', blob);
            formData.append('name', fileName);
            formData.append('qrId', qrId);
            formData.append('action', 'download_pdf');

            $.ajax({
                type: 'POST',
                url: 'https://qr-generator.ai/api/ajax',
                data: formData,
                contentType: false,
                processData: false,
                headers: {   
                    "Authorization": "Bearer "+api_key
                },
                success: function(response) {
                    window.location = "https://qr-generator.ai/pdf-download?file=" + response.data.path + "&fileName=" + response.data.fileName;
                },
                error: (response) => {

                }
            });
        }
        reCorrectSvg(link).then((res) => {
            image.src = URL.createObjectURL(new Blob([res], {
                type: "image/svg+xml"
            }))
        })
    }

    function savePdf(ImageData, fileName, jobid = null, reqBlob = false) {
        const {
            jsPDF
        } = window.jspdf;

        var pdf = new jsPDF('p', 'mm', 'a4', true);
        ImageData.forEach((image, i) => {
            const marginX = (pdf.internal.pageSize.getWidth() - (image.size ? image.size : image.width)) / 2;
            const marginY = (pdf.internal.pageSize.getHeight() - (image.size ? image.size : image.height)) / 2;

            pdf.addImage(
                encodeURI(image.imgLink),
                'png',
                marginX,
                marginY,
                image.size ? image.size : image.width,
                image.size ? image.size : image.height,
                '', 'FAST'
            );
            if (ImageData.length !== i + 1) {
                pdf.addPage("a4", "p");
            }
        })

        pdf.setProperties({
            title: fileName,
            author: "",
            subject: `${ImageData.length}`,
            keywords: 'qr,generator',
            creator: 'QR Generator.ai'
        })

        if (!reqBlob) {
            pdf.save(fileName);
            $("#DownloadModal").find(".new-dl-close").trigger('click');
        } else {
            return pdf.output('blob');
        }

    }


    // apply_reload_qr_code_event_listeners();

    /* SVG to PNG, WEBP, JPG download handler */
    let convert_svg_to_others = (svg_data, type, name, width, height) => {

        svg_data = !svg_data && document.querySelector('#download_svg') ? document.querySelector('#download_svg').href : svg_data;

        let image = new Image;
        image.crossOrigin = 'anonymous';
        if (type == 'svg') {
            image.src = svg_data;
        } else {
            reCorrectSvg(svg_data).then((res) => {
                image.src = URL.createObjectURL(new Blob([res], {
                    type: "image/svg+xml"
                }))
            })
        }
        /* Convert SVG data to others */
        image.onload = function(e) {
            setTimeout(function() {
                let canvas = document.createElement('canvas');

                canvas.width = width;
                canvas.height = height;

                let context = canvas.getContext('2d');
                // context.drawImage(image);
                // context.fillStyle = "white";
                if (type == "jpeg" | type == "jpg") {
                    context.beginPath();
                    context.rect(0, 0, width, height);
                    context.fillStyle = "white";
                    context.fill();
                }

                context.drawImage(image,
                    0, 0, width, height
                );

                let data = canvas.toDataURL(`image/${type}`, 1);

                /* Download */
                let link = document.createElement('a');
                link.download = name;
                link.style.opacity = '0';
                document.body.appendChild(link);
                link.href = data;
                link.click();
                link.remove();
            }, 100);
        }

        /* Add SVG data */


    }

    function makeEPS(link, width, fileName, tmpName, qrId, api_key) {
        var data = {
            action: 'convert_image_eps',
            svgPath: link,
            width: width,
            tmpName: tmpName,
            qrId: qrId
        }

        $.ajax({
            type: 'POST',
            url: 'https://qr-generator.ai/api/ajax',
            data: data,
            headers: {                
                "Authorization": "Bearer "+api_key
            },
            success: function(response) {
                ForceDownload(response.data.path, fileName, `${tmpName}.eps`);
            },
            error: () => {

            }
        });
    }

    function downloadSvg(uri, name, width, height, tmpName, api_key) {
        var data = {
            action: 'resizeSvg',
            svgPath: uri,
            width: width,
            height: height,
            name: tmpName+'.svg'
        }

        $.ajax({
            type: 'POST',
            url: 'https://qr-generator.ai/api/ajax',
            data: data,
            headers: {                
                "Authorization": "Bearer "+api_key
            },

            success: function(response) {
                
                ForceDownload(response.data.path, name, `${tmpName}.svg`);
            },
            error: () => {

            }
        });
    }

    // All JS For Download Modal

    $(document).on('click', ".dl-modal-option-card", function() {
        const checkbox = this.querySelector(".qrCode-check .roundCheckbox input");
        const sizePicker = this.parentNode.parentNode.querySelector('.dl-modal-size-picker-section .dl-modal-size-picker');
        const downloadBtn = this.parentNode.parentNode.querySelector('.primary-btn');
        const PickerData = this.parentNode.parentNode.querySelector('.dl-modal-size-picker-section .dl-modal-size-picker-options');
        if (!checkbox.checked) {
            checkbox.checked = true
            this.classList.add('dl-modal-option-card-active');
            this.querySelector(".dl-modal-option-card-body .card-body-image-section span.icn").classList.add('card-body-image-active');
            this.querySelector(".dl-modal-option-card-body div .m-show").classList.add('m-show-active');
            this.parentNode.setAttribute('data-selected', checkbox.id);
            this.parentNode.parentNode.querySelector('.dl-modal-size-picker-section .dl-modal-size-picker span').innerHTML = 'Padrão';
        }

        if (checkbox.id === "pdf") {
            changeFileSizes(this.parentNode.parentNode, 'pdf');
            sizePicker.removeAttribute('disabled');
            sizePicker.classList.remove('dl-modal-size-picker-disabled');
            downloadBtn.classList.remove('toPrintBtn');
            downloadBtn.classList.add('downloadQrCode');
            PickerData.setAttribute('data-selected', '210x297');
            $(".download-modal-text").html('Baixar');
            $("#icon-dl-btn").addClass('icon-downloadBtn');
            $("#icon-dl-btn").removeClass('icon-print-run');
        } else if (checkbox.id === "print") {
            sizePicker.setAttribute('disabled', true);
            sizePicker.classList.add('dl-modal-size-picker-disabled');
            $(".download-modal-text").html('Imprimir');
            $("#icon-dl-btn").removeClass('icon-downloadBtn');
            $("#icon-dl-btn").addClass('icon-print-run');

            downloadBtn.classList.add('toPrintBtn');
            downloadBtn.classList.remove('downloadQrCode');

        } else {
            changeFileSizes(this.parentNode.parentNode, 'all');
            sizePicker.removeAttribute('disabled');
            sizePicker.classList.remove('dl-modal-size-picker-disabled');
            downloadBtn.classList.remove('toPrintBtn');
            downloadBtn.classList.add('downloadQrCode');
            PickerData.setAttribute('data-selected', '1024x1024');
            $(".download-modal-text").html('Baixar');
            $("#icon-dl-btn").addClass('icon-downloadBtn');
            $("#icon-dl-btn").removeClass('icon-print-run');
        }

        const alertM = this.parentNode.parentNode.querySelector('.dl-modal-alert');
        if (checkbox.id === "eps") {
            alertM.style.display = 'flex';
            $(".share-btn").addClass('disable-share');
            $(".share-btn").removeClass('outline-btn');
            $(".new-download-modal > .modal-dialog > .modal-content").addClass('laptop-modal-content');
            $(".new-download-modal > .modal-dialog").addClass('laptop-modal-dialog');
            $(".new-download-modal > .modal-dialog").addClass('responsive-for-eps');
        } else if (checkbox.id === "print") {
            alertM.style.display = 'none';
            $(".share-btn").addClass('disable-share');
            $(".share-btn").removeClass('outline-btn');
            $(".new-download-modal > .modal-dialog > .modal-content").removeClass('laptop-modal-content');
            $(".new-download-modal > .modal-dialog").removeClass('laptop-modal-dialog');
            $(".new-download-modal > .modal-dialog").removeClass('responsive-for-eps');
        } else {
            alertM.style.display = 'none';
            $(".share-btn").removeClass('disable-share');
            $(".share-btn").addClass('outline-btn');
            $(".new-download-modal > .modal-dialog > .modal-content").removeClass('laptop-modal-content');
            $(".new-download-modal > .modal-dialog").removeClass('laptop-modal-dialog');
            $(".new-download-modal > .modal-dialog").removeClass('responsive-for-eps');
        }

        const checkBoxes = document.querySelectorAll('.chk input');
        checkBoxes.forEach(e => {
            if (checkbox.id !== e.id) {
                e.checked = false;
            }
        });
        const optionCards = document.querySelectorAll('.dl-modal-option-card');
        optionCards.forEach(e => {
            if (e !== this) {
                e.classList.remove('dl-modal-option-card-active')
                e.querySelector(".dl-modal-option-card-body .card-body-image-section span.icn").classList.remove('card-body-image-active');
                e.querySelector(".dl-modal-option-card-body div .m-show").classList.remove('m-show-active');
            }
        });
    });

    $(document).on('click', ".size-picker-option", function() {
        const PDF_SIZES = {
            'Default': 'Default',
            'A4': '210x297',
            'A3': '297x420',
            'A2': '420x594',
            'A1': '594x841',
            'A0': '841x1189'
        };
        const currType = this.parentNode.parentNode.parentNode.parentNode.parentNode.querySelector('.dl-modal-options').getAttribute('data-selected');
        const thisCheckbox = this.querySelector(".picker-option-s input");
        thisCheckbox.checked = true;
        if (thisCheckbox.id === "Default") {
            if (currType === "pdf") {
                this.parentNode.setAttribute('data-selected', '210x297');
            } else {
                this.parentNode.setAttribute('data-selected', '1024x1024');
            }
        } else {
            if (currType === "pdf") {
                this.parentNode.setAttribute('data-selected', PDF_SIZES[thisCheckbox.id]);
            } else {
                this.parentNode.setAttribute('data-selected', thisCheckbox.id);
            }
        }
        this.parentNode.parentNode.querySelector('.dl-modal-size-picker span').innerText = thisCheckbox.id === "Default" ? 'Padrão' : thisCheckbox.id;

        const thisLabel = this.querySelector('.picker-option-l');
        const Labels = document.querySelectorAll('.dl-modal-size-picker-options .size-picker-option .picker-option-l');
        Labels.forEach((e) => {
            if (e === thisLabel) {
                e.classList.add('active');
            } else {
                e.classList.remove('active');
            }
        });
    });

    $(document).on('click', ".downloadQrCode", function() {        
        var modal = $(this).closest("#DownloadModal");
        var type = $('.dl-modal-options').attr('data-selected');
        var size = $('.dl-modal-size-picker-options').attr('data-selected').split('x');
        var link = modal.find("#dmQrcodeLink").val();
        var fileName = modal.find("#fileName").val();
        var qrId = modal.find("#qr_id").val();
        var qrType = modal.find("#qr_type").val();
        var qrUid = modal.find("#qr_uid").val();
        const spinnerHTML = `<div class='px-1'><svg viewBox="25 25 50 50" class="new-spinner"><circle r="20" cy="50" cx="50"></circle></svg></div>
                            <span class="download-modal-text">Em processamento...</span>`;
        let dlButtonHTML = $(this).html();
        var api_key = modal.find("#api_key").val();
        

        if ($(this).hasClass('single')) {      
                
            var data = {
                link: link,
                name: fileName,
                svg : qrUid+'.svg',
                type: type,
                size: size[0],
                action: "get_image_ratio",
            }
            $.ajax({
                type: 'POST',
                url: 'https://qr-generator.ai/api/ajax',
                data: data,
                dataType: 'json',
                headers: {                
                    "Authorization": "Bearer "+api_key
                },
                beforeSend: function() {
                    $(".downloadQrCode").html(spinnerHTML);
                },
                success: function(response) {
                    
                    $(".downloadQrCode").html(dlButtonHTML);
                    width = response.data.width;
                    height = response.data.height;
                    var fileName = response.data.name;
                    if (type == "svg") {
                        downloadSvg(link, fileName, width, height, qrUid, api_key);
                    } else if (type == "pdf") {
                        makePDF(link, size[0], size[1], width, height, fileName, api_key,qrId);
                        modal.find(".new-dl-close").trigger('click');
                    } else if (type == "eps") {
                        makeEPS(link, width, fileName, qrUid, qrId, api_key);
                    } else {
                        convert_svg_to_others(link, type, fileName, width, height);
                        modal.find(".new-dl-close").trigger('click');
                    }
                },
                error: () => {
                    $(".downloadQrCode").html(dlButtonHTML);
                }
            });
            
            var data = {
                qr_code_id: qrId,               
                action: "change_qr_download_status",
            }
          
            $.ajax({
                type: 'POST',
                url: 'https://qr-generator.ai/api/ajax',
                data: data,
                dataType: 'json',
                headers: {                
                    "Authorization": "Bearer "+api_key
                },
            });

                            // Data Layer Implementation (GTM)
                var eventDownload = "qr_download";
                var eventData = {
                    "userId": "qga-4897583",                  
                    "qr_type": qrType,
                    "qr_id": qrUid,
                    "gaid": "BR-PT-BR-C-DPF",
                    "qr_first": 'null',
                }
                googleDataLayer(eventDownload, eventData);
            
        } else {
            const qrCodeIdArr = [];
            const qrSvgPaths = [
                [],
                []
            ];
            $("input.qrSelected:checked").not('.select-all-wrap input.qrSelected').each(function() {
                qrCodeIdArr.push($(this).val());
                qrSvgPaths[0].push($(this).attr('id'));
                qrSvgPaths[1].push($(this).attr('qr-name'));
            });

            const updatedQRNames = replaceDuplicatesWithNumber(qrSvgPaths[1]);
            qrSvgPaths[1] = updatedQRNames;

            if (type === 'png' || type === 'jpeg') {

                $(this).html(spinnerHTML);
                ArchiveToZip(type, qrSvgPaths,qrCodeIdArr, size[0], size[1],api_key);
                $(".downloadQrCode").html(dlButtonHTML);
                modal.find(".new-dl-close").trigger('click');

            } else {
              
                $.ajax({
                    type: 'POST',
                    url: 'https://qr-generator.ai/api/ajax',
                    data: {
                        qr_code_ids: qrCodeIdArr,                      
                        action: "convert_svg",
                        type: type,
                        mode: 'bulk'                        
                    },
                    dataType: 'json',
                    headers: {                
                        "Authorization": "Bearer "+api_key
                    },
                    beforeSend: () => {
                        $(this).html(spinnerHTML);
                    },
                    success: function(response) {
                       
                        $(".downloadQrCode").html(dlButtonHTML);
                        if (type === "pdf") {
                            savePdf(response.ImageData, response.fileName, response.jobId);
                        } else {                           
                            ForceDownload(response.data.link, response.data.filename);
                        }
                    },
                    error: () => {                        
                        $(".downloadQrCode").html(dlButtonHTML);
                    }
                });

                // update qr_codes status
                updateQrStatus(qrCodeIdArr, api_key);
        
            }
        }

    });

    // for fix duplicate qr names in bulk download
    function replaceDuplicatesWithNumber(inputValueArray) {
        const valueArray = inputValueArray;
        const valueCounts = Object.create(null);

        valueArray.forEach((value, i) => {
            if (valueCounts[value] === undefined) {
                valueCounts[value] = 1;
            } else {
                const count = valueCounts[value]++;
                valueArray[i] = `${value}(${count})`;
            }
        });

        return valueArray;
    }

    function expandSizePicker(elm) {
        if (!elm.getAttribute('disabled')) {
            const dropDown = document.querySelector('.dl-modal-size-picker-options');
            if (dropDown.hidden) {
                dropDown.hidden = false;
                elm.classList.add('dl-modal-size-picker-active');
                const fullHeight = window.visualViewport.height;
                const offset = dropDown.getBoundingClientRect().bottom;
                if (fullHeight < offset) {
                    dropDown.style.top = `${(getComputedStyle(dropDown).top.split('p')[0] - (offset - fullHeight))-5}px`;
                } else {
                    // dropDown.style.top = getComputedStyle(dropDown).top;
                }
            } else {
                dropDown.hidden = true;
                elm.classList.remove('dl-modal-size-picker-active');
            }

            window.onclick = (e) => {
                if (e.target !== dropDown && e.target !== elm && e.target !== elm.querySelector('span')) {
                    dropDown.hidden = true;
                    elm.classList.remove('dl-modal-size-picker-active');
                }
            }
        }
    }

    function changeFileSizes(cElm, type) {
        const FILE_SIZES = {
            all: ['Default', '512x512', '1024x1024', '2048x2048', '4096x4096'],
            pdf: ['Default', 'A4', 'A3', 'A2', 'A1', 'A0'],
        }
        const optionSection = cElm.querySelector('.dl-modal-size-picker-section .dl-modal-size-picker-options');
        let options = '';
        FILE_SIZES[type].forEach(e => {
            options += ` <div class="size-picker-option">
                            <div class="picker-option-s"><input type="radio" name="sizes" id="${e}" ${ e === "Default" ? 'checked' : '' }></div>
                            <div class="picker-option-l ${ e === "Default" ? 'active' : '' }"><label for="${e}">${e === "Default" ? 'Padrão' : e}</label></div>
                        </div>`
        })
        optionSection.innerHTML = options;
    }

    function setQrCodeData(elm) {
        var qrCodeCard = $(elm).closest('.qrCode-card');
        var fileName = qrCodeCard.find('.qrCodeName').text();
        var link = qrCodeCard.find('.qrCode-image img').attr('src');
        var qrId = qrCodeCard.find('.qrCodeId').val();
        var qrUid = qrCodeCard.find('.qrCodeUid').val();
        var qrType = qrCodeCard.find('.qrCodeType').val();

        if (!qrUid) {
            var fileName = $('#popFileName').val();
            var link = $('#popDmQrcodeLink').val();
            var qrId = $('#popQrId').val();
            var qrUid = $('#popQrUid').val();
            var qrType = $('#popQrType').val();
        }

        $("#DownloadModal").find("#fileName").val(fileName);
        $("#DownloadModal").find("#dmQrcodeLink").val(link);
        $("#DownloadModal").find("#qr_id").val(qrId);
        $("#DownloadModal").find("#qr_uid").val(qrUid);
        $("#DownloadModal").find("#qr_type").val(qrType);
    }

    $(document).on('click', '.downloadBtn', function() {
        const dlBtn = $('.downloadQrCode').length > 0 ? $('.downloadQrCode') : $('.toPrintBtn').filter((i, e) => {
            return e.localName === 'button' ? true : false
        });
        const dlModalFooter = $('.dl-modal-footer-buttons');
        const sizePicker = $('.dl-modal-size-picker-section');
        dlBtn.attr('data-dismiss', '');
        if ($(this).hasClass('bulk')) {
            if ($("input.qrSelected:checked").not('.select-all-wrap input.qrSelected').length <= 1) {
                sizePicker.show();
                dlModalFooter.removeClass('bl-bulk-options');
                dlBtn.removeClass('bulk');
                dlBtn.addClass('single');
                setQrCodeData($('.qrCode-card.selected'));
            } else {
                sizePicker.hide();
                dlBtn.removeClass('single');
                dlModalFooter.addClass('bl-bulk-options');
                dlBtn.addClass('bulk');
            }
        } else {
            sizePicker.show();
            dlModalFooter.removeClass('bl-bulk-options');
            dlBtn.removeClass('bulk');
            dlBtn.addClass('single');
        }
    });

    $(document).on('click', '.toPrintBtn', function(e) {        
        $('.qrFrameWindow').remove();
        downloadModalClose();
        printModalRemove();
        e.preventDefault();
        var qrCodeCard = $(this).closest('.qrCode-card');
        var imgHtml = qrCodeCard.find('.qrCode-image').html();
        var imgHtmlSrc = qrCodeCard.find('.qrCode-image img').attr('src');
        var modal = $(this).closest("#DownloadModal");
        var link = modal.find("#dmQrcodeLink").val();
        var qrId = modal.find("#qr_id").val();
        var qrUid = modal.find("#qr_uid").val();
        var api_key = modal.find("#api_key").val();

        if(!qrId && !user_id){
            qrId = qrCodeCard.find('.qrCodeId').val();
            user_id = '4897583';
        }

        var route;

        var data = {
            qr_code_id: qrId,            
            action: "change_qr_download_status",
        }
        $.ajax({
            type: 'POST',
            url: 'https://qr-generator.ai/api/ajax',
            data: data,
            dataType: 'json',
            headers: {                
                "Authorization": "Bearer " + api_key
            },
        });

        if (imgHtml) {
            link = imgHtmlSrc
        }

        var iframe = document.createElement('iframe');
        iframe.setAttribute('class', 'qrFrameWindow');
        iframe.setAttribute('width', '100%');
        iframe.setAttribute('height', '100%');
        iframe.setAttribute('frameborder', '0');
        iframe.setAttribute('scrolling', 'no');

        const qrBlockStyles = {
            width: '100%',
            height: '100%',
            display: 'block',
            margin: '6px',
        }
        const ImagesStyles = {
            width: '300px',
            height: '100%',
        }

        var qrBlock = document.createElement('div');
        Object.assign(qrBlock.style, qrBlockStyles);

        let imgElement

        if ($(e.currentTarget).hasClass('bulk')) {

            const qrCodeIdArr = [];
            $("input.qrSelected:checked").not('.select-all-wrap input.qrSelected').each((i, e) => {
                qrCodeIdArr.push(e.value);
                imgElement = document.createElement('img');
                imgElement.setAttribute('src', e.id);
                updateQrStatus(qrCodeIdArr,api_key);
                // Object.assign(imgElement.style,ImagesStyles);
                imgElement.setAttribute('style', 'width:100%;height:100%;break-inside:avoid;');
                qrBlock.appendChild(imgElement);
            });

        } else {
            imgElement = document.createElement('img');
            imgElement.setAttribute('src', link);
            imgElement.setAttribute('style', 'width:100%;height:100%;break-inside:avoid;');
            qrBlock.appendChild(imgElement);
        }


        iframe.onload = function() {
            var iframeDocument = iframe.contentDocument || iframe.contentWindow.document;
            iframeDocument.body.appendChild(qrBlock);

            imgElement.onload = () => {
                iframe.contentWindow.print();
            }

            var modalback = $('.modal-backdrop');
            if (modalback.length === 0) {
                var modalbackBlock = document.createElement('div');
                modalbackBlock.setAttribute('class', 'modal-backdrop fade show');
                $('body').append(modalbackBlock);
            }

            var iframeContentWindow = $('.qrFrameWindow')[0].contentWindow;

            iframeContentWindow.onafterprint = function() {
                setTimeout(function() {
                    $(".modal-backdrop").remove();
                    $('.qrFrameWindow').remove();
                    var readyUseModalEle = $("#readyUseModal");
                    if (readyUseModalEle.length) {
                        readyUseModalEle.modal('toggle');
                    }
                }, 500);
            }

        };

        document.body.appendChild(iframe);

        $(".close-download-model-btn").trigger('click');

        var event = "all_click";

        var qrData = {
            "userId": "qga-4897583",           
            "clicktext": "Print Qr Code",

        }
        googleDataLayer(event, qrData);
    });


    function ForceDownload(link, filename, tmp = null) {      
       
        const dlBtnHtml = $(".downloadQrCode").html();
        $(".downloadQrCode").html(`Iniciando...`);
        let blob;
        const xmlHTTP = new XMLHttpRequest();
        xmlHTTP.open('GET', link, true);
        xmlHTTP.responseType = 'arraybuffer';
        xmlHTTP.onload = function(e) {
            blob = new Blob([this.response]);
        };
        xmlHTTP.onprogress = function(pr) {
            const dlProg = ((pr.loaded / pr.total) * 100).toFixed(0);
            $(".downloadQrCode").html(`Baixando... ${dlProg}%`);
        };
        xmlHTTP.onloadend = function(e) {
            $(".downloadQrCode").html(dlBtnHtml);
            let url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            document.body.appendChild(a);
            a.click();
            a.remove();
            window.URL.revokeObjectURL(url);
            $("#DownloadModal").find(".new-dl-close").trigger('click');
        }
        xmlHTTP.onerror = (e) => {
            show_alert('error', 'Falha no download. Algo deu errado!');
            $(".downloadQrCode").html(dlBtnHtml);
            $("#DownloadModal").find(".new-dl-close").trigger('click');
        }
        xmlHTTP.send();
    }

    function clearTmpSvg(type, tmp) {
        $.ajax({
            type: 'POST',
            url: 'https://qr-generator.ai/api/guest_data',
            data: {
                action: "clearTemp",
                fileName: tmp,
                type: type === 'pdf' ? 'folder' : 'file'
            },
            success: function(data) {
                // modal.find("button.new-dl-close").trigger('click');
            }
        })
    }

    $(document).ready(function() {
        if ($('#DownloadModal').css('display') == 'block') {
            if (window.matchMedia('(min-width: 576px)').matches) {
                var modelContent = $(".modal-content ");
                $(document).on("click", function(e) {
                    if (!modelContent.is(e.target) && modelContent.has(e.target).length === 0) {                      
                    }

                });
            }
        }

    });


    $(".qr-code-download-btn").on("click", function() {
        $(".qr-code-model").removeClass('show');
        $('.qr-code-model').css({
            'display': 'none'
        });

        $(".close-download-model-btn").on("click", function() {
            $('.modal-backdrop').fadeOut(300, function() {
                $(this).remove();
            });
        });
    });

    function removeAlertHolder() {

        if ($(".alert-success").hasClass('hold-alert')) {
            
            $(".alert-success").removeClass('hold-alert');
    
            $(".alert-success").addClass('fadeDownMessage');
            $(".fadeDownMessage").slideDown().delay(5500).fadeOut();
        }

    }


    function firstDownloadModelClose() {
        
        removeAlertHolder();
        
        var api_key = $("#api_key").val();
        var formData = new FormData();
        formData.append('action', 'hideDownloadModel');        
        $.ajax({
            type: 'POST',
            url: 'https://qr-generator.ai/api/ajax',
            data: formData,
            dataType: 'json',
            contentType: false,
            processData: false,
            headers: {                
                "Authorization": "Bearer " + api_key
            },
            success: function(response) {
                $('.first-modal-img-wrap').html('<h3 class="new-dl-modal-title mb-4 mt-5">Selecione o formato de download</h3>');
            },
            error: (code) => {
                if (code.status == 500) {
                }
            },
        });
    }

    async function shareFile(blog, fileName, fileType, shareButtonHTML) {

        var shareBtn = $("#shareBtn");
        var modal = $("#shareBtn").closest("#DownloadModal");
        var qrId = modal.find("#qr_id").val();
        var qrUid = modal.find("#qr_uid").val();
        var api_key = modal.find("#api_key").val();

        const blob = await blog;

        const file = new File([blob], fileName, {
            type: fileType
        });

        const shareObject = {
            title: fileName,
            files: [file],
            qrCodeId: qrId,
            uId: qrUid
        };

        shareBtn.html(shareButtonHTML);
        var route;
        try {

            if (navigator.share !== undefined) {
                try {
                    navigator.share(shareObject)
                        .then(() => {

                            var data = {
                                action: 'change_qr_download_status',
                                qr_code_id: shareObject.qrCodeId,                              
                               
                            }

                            $.ajax({
                                type: 'POST',
                                url: 'https://qr-generator.ai/api/ajax',
                                data: data,
                                headers: {                
                                    "Authorization": "Bearer " + api_key
                                },
                                success: function(response) {
                                },
                                error: (e) => {
                                    show_alert('error', "Something went wrong : " + e);
                                }
                            });
                        })
                        .catch((error) => {

                        });
                } catch (error) {
                    console.error("Error sharing:", error);
                }
            } else {
                // show_alert('error', "Sharing is not available. You can manually share the QR code.");
            }

        } catch (error) {
            shareBtn.html(shareButtonHTML);
            console.error("Web Share API permission denied:", error);
        }




    }

    // Share Qr Code
    $("#shareBtn").click(async function() {
        var modal = $("#shareBtn").closest("#DownloadModal");
        var link = modal.find("#dmQrcodeLink").val();
        var fileName = modal.find("#fileName").val();
        var type = $('.dl-modal-options').attr('data-selected');
        var size = $('.dl-modal-size-picker-options').attr('data-selected').split('x');
        var qrId = modal.find("#qr_id").val();
        var qrType = modal.find("#qr_type").val();
        var qrUid = modal.find("#qr_uid").val();
        var api_key = modal.find("#api_key").val();
        var shareBtn = $("#shareBtn");
        var downloadBtn = $('.downloadQrCode');
        let shareButtonHTML = $(this).html();
        var qrCodeNames = [];
        const spinnerHTML = `<div class='px-1'><svg viewBox="25 25 50 50"  class="new-spinner-share"><circle r="20" cy="50" cx="50"></circle></svg></div>`;
        shareBtn.html(spinnerHTML);
        if (typeof navigator.share === "undefined") {
            $('#sharePopup').modal('show');
                        

            var currentUrl = window.location.href;
            if (currentUrl.includes("qr-download")) {
                $('#DownloadModal').css('z-index', 1041); 
               
                var backdrops = $('body .modal-backdrop.fade.show');
                    backdrops.eq(0).remove();
                    backdrops.eq(1).remove();
        
            } else {
                $('#DownloadModal').css('z-index', 1040);  
            }

        }
        // Bulk share
        if (downloadBtn.hasClass('bulk')) {
            var selectedQrCodes = [];
            $("input.qrSelected:checked").not('.select-all-wrap input.qrSelected').each(function() {
                selectedQrCodes.push($(this).attr('id'));
                qrCodeNames.push($(this).attr('qr-name').replace(/[^A-Za-z0-9\-]+/g, '_'));

            });

            if (navigator.share !== undefined && selectedQrCodes.length > 10) {
                show_alert('error', `Só é possível compartilhar 10 QR codes por vez.`);
                shareBtn.html(shareButtonHTML);
                return
            }

            if (type == "eps") {
                show_alert('error', `Arquivos EPS não podem ser compartilhados. Escolha um formato de arquivo diferente.`);
                shareBtn.html(shareButtonHTML);

            } else {
                getDataFromSvg(type, selectedQrCodes,1024,1024,qrCodeNames).then(data => {
                    share({
                        title: fileName,
                        files: data,
                        qrCodeId: qrId,
                        uId: qrUid,
                        api_key: api_key
                    })
                    shareBtn.html(shareButtonHTML);
                });
            }

        } else {

            if (type == 'eps') {
                show_alert('error', `Arquivos EPS não podem ser compartilhados. Escolha um formato de arquivo diferente.`);
            } else {
                var api_key =  api_key
                var data = {
                    link: link,
                    name: fileName,
                    type: type,
                    size: size[0],
                    svg : qrUid+'.svg',
                    action: "get_image_ratio",
                }

                $.ajax({
                    type: 'POST',
                    url: 'https://qr-generator.ai/api/ajax',
                    data: data,
                    dataType: 'json',
                    headers: {                
                        "Authorization": "Bearer "+api_key
                    },

                    success: function(response) {
                        let width = response.data.width;
                        let height = response.data.height;
                        let fileName = response.data.name;
                        let qrName = response.data.qr_name;

                        if (type == "svg") {
                            var data = {
                                action: 'svg_resize_return',
                                svgPath: link,
                                width: width,
                                height: height,
                                tmpName: qrUid
                            }
                            qrCodeNames.push(qrName);
                            $.ajax({
                                type: 'POST',
                                url: 'https://qr-generator.ai/api/ajax',
                                data: data,
                                headers: {                
                                    "Authorization": "Bearer "+api_key
                                },
                                success: function(response) {
                                    getDataFromSvg(type, [response?.data?.svg],size[0],size[1],qrCodeNames).then((data => {
                                        share({
                                            title: fileName,
                                            files: data,
                                            qrCodeId: qrId,
                                            uId: qrUid,
                                            api_key: api_key
                                        })
                                        shareBtn.html(shareButtonHTML);
                                    }))
                                },
                                error: () => {

                                }
                            });
                        } else if (type == "pdf") {
                            width = width * 60 / 100;
                            height = height * 60 / 100;
                            let pWidth = size[0];
                            let pHeight = size[1];

                            const {
                                jsPDF
                            } = window.jspdf;
                            let image = new Image;
                            image.crossOrigin = 'anonymous';
                            /* Convert SVG data to others */
                            image.onload = function() {
                                let canvas = document.createElement('canvas');
                                canvas.width = 1200;
                                canvas.height = 1200;
                                const marginX = (pWidth - width) / 2;
                                const marginY = (pHeight - height) / 2;
                                let context = canvas.getContext('2d');
                                context.drawImage(image, 0, 0, 1200, 1200);
                                let data = canvas.toDataURL(`image/png`, 1);
                                // const pdf = new jsPDF(); 
                                var pdf = new jsPDF('p', 'mm', [pWidth, pHeight], true);
                                pdf.addImage(data, 'PNG', marginX, marginY, width, height, '', 'FAST')
                                pdf.setProperties({
                                    title: fileName,
                                    author: "",
                                    subject: fileName,
                                    keywords: 'qr,generator',
                                    creator: 'QR Generator.ai'
                                })

                                var blob = pdf.output('blob');

                                if (blob) {
                                    shareFile(blob, fileName, 'application/pdf', shareButtonHTML)
                                }
                            }
                            reCorrectSvg(link).then((res) => {
                                image.src = URL.createObjectURL(new Blob([res], {
                                    type: "image/svg+xml"
                                }))
                            })

                        } else {
                            qrCodeNames.push(qrName);
                            getDataFromSvg(type, [link], size[0], size[1],qrCodeNames).then(data => {
                                share({
                                    title: fileName,
                                    files: data,
                                    qrCodeId: qrId,
                                    uId: qrUid,
                                    api_key: api_key
                                })
                                shareBtn.html(shareButtonHTML);
                            });
                        }
                    },
                    error: () => {
                        show_alert('error', `O compartilhamento não está disponível. Você pode compartilhar o QR code manualmente.`);
                        shareBtn.html(shareButtonHTML);
                    }
                });
            }
        }
    });

    $('#sharePopup').on('hidden.bs.modal', function() {
        if (typeof navigator.share === "undefined") {
            $('#DownloadModal').css('z-index', 1060);
        }
    });

    function getMimeType(type) {
        let fileType;
        switch (type) {
            case 'png':
                fileType = 'image/png';
                break;
            case 'jpeg':
                fileType = 'image/jpeg';
                break;
            case 'print':
                fileType = 'image/png';
                break;
            case 'eps':
                fileType = 'application/eps';
                break;
            case 'pdf':
                fileType = 'application/pdf';
                break;
            case 'svg':
                fileType = 'image/svg+xml';
                break;
            default:
                fileType = 'image/png';
                break;
        }

        return fileType;
    }

    async function share(shareObject) { 
        if (navigator.share !== undefined) {
            try {
                await navigator.share(shareObject)
                    .then(() => {
                        var api_key = shareObject.api_key
                        var data = {
                            action: 'change_qr_download_status',
                            qr_code_id: shareObject.qrCodeId,
                        }
                        $.ajax({
                            type: 'POST',
                            url: 'https://qr-generator.ai/api/ajax',
                            data: data,
                            headers: {                
                                "Authorization": "Bearer " + api_key
                            },
                            success: function(response) {

                            },
                            error: () => {shareBtn

                            }
                        });
                    })
                    .catch((error) => {

                    });
            } catch (error) {
                console.error("Error sharing:", error);
            }
        }
    }

    function isValidEmail(email) {
        var emailRegex = /^[a-zA-Z0-9._+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/;
        return emailRegex.test(email);
    }

    function shareQrViaEmail() {
        var email = $('#recieverEmail').val();
        var downloadModal = $("#shareBtn").closest("#DownloadModal");
        var link = downloadModal.find("#dmQrcodeLink").val();
        var fileName = downloadModal.find("#fileName").val();
        var type = $('.dl-modal-options').attr('data-selected');
        var size = $('.dl-modal-size-picker-options').attr('data-selected').split('x');
        var qrId = downloadModal.find("#qr_id").val();
        var qrType = downloadModal.find("#qr_type").val();
        var qrUid = downloadModal.find("#qr_uid").val();
        var api_key = downloadModal.find("#api_key").val();
        var shareBtn = $("#shareBtn");
        var downloadBtn = $('.downloadQrCode');
        var userId = document.getElementById('uid').value;
        var isBulk = false;
        var qrArr = [];
        var selectedQrCodes = [];
        var qrCodeNames = [];
        var sendBtn = $('#shareToEmailBtn');
        const spinnerHTML = `<div class='px-1'><svg viewBox="25 25 50 50"  class="new-spinner"><circle r="20" cy="50" cx="50"></circle></svg></div>`;
        sendBtn.html(spinnerHTML);

        if (downloadBtn.hasClass('bulk')) {
            isBulk = true;
            $("input.qrSelected:checked").not('.select-all-wrap input.qrSelected').each(function() {
                selectedQrCodes.push($(this).attr('id'));
                qrCodeNames.push($(this).attr('qr-name'));
            });
        }

        if (email === null || email === undefined || email == '' || !isValidEmail(email)) {
            $('#emailReq').show();
            sendBtn.html(`Enviar`);
        } else {
            $('#emailReq').hide();

            if (isBulk == true) {

                if (type == "svg") {
                    let width = 1024;
                    let height = 1024;

                    var data = {
                        action: 'svg_resize_return',
                        svgPath: selectedQrCodes,
                        width: width,
                        height: height,
                        tmpName: qrUid,
                        isBulk: isBulk
                    }

                    $.ajax({
                        type: 'POST',
                        url: 'https://qr-generator.ai/api/ajax',
                        data: data,
                        headers: {                
                            "Authorization": "Bearer "+api_key
                        },
                        success: function(response) {

                            var jsonData = JSON.stringify(response?.data);
                            const jsonObject = JSON.parse(jsonData);
                            const stringArray = [];

                            for (const item of jsonObject) {
                                stringArray.push(item['svg']);
                            }

                            getDataFromSvg(type, stringArray, 1024,1024,qrCodeNames).then(res => {
                                var formData = new FormData();
                                res.forEach((qr) => {
                                    formData.append('file[]', qr);
                                });

                                formData.append('action', 'share_email_attachment');
                                formData.append('email', email);                              
                                formData.append('type', type);
                                formData.append('uid', qrUid);
                                formData.append('is_bulk', isBulk);
                                // Make the AJAX request
                                $.ajax({
                                    type: 'POST',
                                    url: 'https://qr-generator.ai/api/ajax',
                                    data: formData,
                                    contentType: false,
                                    processData: false,
                                    headers: {                
                                        "Authorization": "Bearer "+api_key
                                    },
                                    success: function(response) {
                                        show_alert('success', `Seu QR code foi enviado com sucesso para` + ' ' + email);
                                        sendBtn.html(`Enviar`);
                                        $('#sharePopup').modal('hide');
                                        $('#DownloadModal').modal('hide');
                                        $(".modal-backdrop").remove();
                                        $('#recieverEmail').val("");
                                    },
                                    error: function(error) {
                                        console.error(error);
                                    }
                                });
                            }).catch(error => {
                                console.error('Error getting SVG data:', error);
                            });

                        }
                    });
                } else {
                    getDataFromSvg(type, selectedQrCodes, 1024,1024,qrCodeNames).then(res => {
                        var formData = new FormData();
                        // Append the file data
                        res.forEach((qr) => {
                            formData.append('file[]', qr);
                        });

                        formData.append('action', 'share_email_attachment');
                        formData.append('email', email);                      
                        formData.append('type', type);
                        formData.append('uid', qrUid);
                        formData.append('is_bulk', isBulk);
                        // Make the AJAX request
                        $.ajax({
                            type: 'POST',
                            url: 'https://qr-generator.ai/api/ajax',
                            data: formData,
                            contentType: false,
                            processData: false,
                            headers: {                
                                "Authorization": "Bearer "+api_key
                            },
                            success: function(response) {
                                show_alert('success', `Seu QR code foi enviado com sucesso para` + ' ' + email);
                                sendBtn.html(`Enviar`);
                                $('#sharePopup').modal('hide');
                                $('#DownloadModal').modal('hide');
                                $(".modal-backdrop").remove();
                                $('#recieverEmail').val("");
                            },
                            error: function(error) {
                                console.error(error);
                            }
                        });
                    }).catch(error => {
                        console.error('Error getting SVG data:', error);
                    });
                }

            } else {
                // Single share
                
                if (type == "svg") {
                    var data = {
                        link: link,
                        name: fileName,
                        type: type,
                        size: size[0],
                        svg : qrUid+'.svg',
                        action: "get_image_ratio",
                    }

                    $.ajax({
                        type: 'POST',
                        url: 'https://qr-generator.ai/api/ajax',
                        data: data,
                        dataType: 'json',
                        headers: {                
                            "Authorization": "Bearer "+api_key
                        },

                        success: function(response) {
                            let width = response.data.width;
                            let height = response.data.height;

                            var data = {
                                action: 'svg_resize_return',
                                svgPath: link,
                                width: width,
                                height: height,
                                tmpName: qrUid
                            }

                            $.ajax({
                                type: 'POST',
                                url: 'https://qr-generator.ai/api/ajax',
                                data: data,
                                headers: {                
                                    "Authorization": "Bearer "+api_key
                                },
                                success: function(response) {

                                    getDataFromSvg(type, [response?.data?.svg], width, height).then(res => {

                                        var formData = new FormData();
                                        // Append the file data
                                        formData.append('file', res[0]);
                                        formData.append('action', 'share_email_attachment');
                                        formData.append('email', email);                                       
                                        formData.append('type', type);
                                        formData.append('qrId', qrId);
                                        formData.append('qr_name', fileName);
                                        formData.append('uid', qrUid);
                                        formData.append('is_bulk', isBulk);

                                        // Make the AJAX request
                                        $.ajax({
                                            type: 'POST',
                                            url: 'https://qr-generator.ai/api/ajax',
                                            data: formData,
                                            contentType: false,
                                            processData: false,
                                            headers: {                
                                                "Authorization": "Bearer "+api_key
                                            },
                                            success: function(response) {
                                                show_alert('success', `Seu QR code foi enviado com sucesso para` + ' ' + email);
                                                sendBtn.html(`Enviar`);
                                                $('#sharePopup').modal('hide');
                                                $('#DownloadModal').modal('hide');
                                                $(".modal-backdrop").remove();
                                                $('#recieverEmail').val("");
                                            },
                                            error: function(error) {
                                                console.error(error);
                                            }
                                        });
                                    }).catch(error => {
                                        console.error('Error getting SVG data:', error);
                                    });


                                },
                                error: () => {

                                }
                            });

                        }
                    });
                } else if (type == "pdf") {

                    var data = {
                        link: link,
                        name: fileName,
                        type: type,
                        size: size[0],
                        svg : qrUid+'.svg',
                        action: "get_image_ratio",
                    }

                    $.ajax({
                        type: 'POST',
                        url: 'https://qr-generator.ai/api/ajax',
                        data: data,
                        dataType: 'json',
                        headers: {                
                            "Authorization": "Bearer "+api_key
                        },
                        success: function(response) {
                            let width = response.data.width;
                            let height = response.data.height;


                            width = width * 60 / 100;
                            height = height * 60 / 100;
                            let pWidth = size[0];
                            let pHeight = size[1];

                            const {
                                jsPDF
                            } = window.jspdf;
                            let image = new Image;
                            image.crossOrigin = 'anonymous';
                            /* Convert SVG data to others */
                            image.onload = function() {
                                let canvas = document.createElement('canvas');
                                canvas.width = 1200;
                                canvas.height = 1200;
                                const marginX = (pWidth - width) / 2;
                                const marginY = (pHeight - height) / 2;
                                let context = canvas.getContext('2d');
                                context.drawImage(image, 0, 0, 1200, 1200);
                                let data = canvas.toDataURL(`image/png`, 1);
                                // const pdf = new jsPDF(); 
                                var pdf = new jsPDF('p', 'mm', [pWidth, pHeight], true);
                                pdf.addImage(data, 'PNG', marginX, marginY, width, height, '', 'FAST')
                                pdf.setProperties({
                                    title: fileName,
                                    author: "",
                                    subject: fileName + '.pdf',
                                    keywords: 'qr,generator',
                                    creator: 'QR Generator.ai'
                                })

                                var blob = pdf.output('blob');

                                const pdfFile = new File([blob], fileName, {
                                    type: 'application/pdf'
                                });


                                var formData = new FormData();
                                // Append the file data
                                formData.append('file', pdfFile);
                                formData.append('action', 'share_email_attachment');
                                formData.append('email', email);                               
                                formData.append('type', type);
                                formData.append('qrId', qrId);
                                formData.append('qr_name', fileName);
                                formData.append('uid', qrUid);
                                formData.append('is_bulk', isBulk);

                                // Make the AJAX request
                                $.ajax({
                                    type: 'POST',
                                    url: 'https://qr-generator.ai/api/ajax',
                                    data: formData,
                                    contentType: false,
                                    processData: false,
                                    headers: {                
                                        "Authorization": "Bearer "+api_key
                                    },
                                    success: function(response) {
                                        show_alert('success', `Seu QR code foi enviado com sucesso para` + ' ' + email);
                                        sendBtn.html(`Enviar`);
                                        $('#sharePopup').modal('hide');
                                        $('#DownloadModal').modal('hide');
                                        $(".modal-backdrop").remove();
                                        $('#recieverEmail').val("");
                                    },
                                    error: function(error) {
                                        console.error(error);
                                    }
                                });
                            }
                            reCorrectSvg(link).then((res) => {
                                image.src = URL.createObjectURL(new Blob([res], {
                                    type: "image/svg+xml"
                                }))
                            })
                        }
                    })
                } else {
                    getDataFromSvg(type, [link], size[0], size[1]).then(res => {

                        var formData = new FormData();
                        // Append the file data
                        formData.append('file', res[0]);
                        formData.append('action', 'share_email_attachment');
                        formData.append('email', email);                       
                        formData.append('type', type);
                        formData.append('qrId', qrId);
                        formData.append('qr_name', fileName);
                        formData.append('uid', qrUid);
                        formData.append('is_bulk', isBulk);

                        // Make the AJAX request
                        $.ajax({
                            type: 'POST',
                            url: 'https://qr-generator.ai/api/ajax',
                            data: formData,
                            contentType: false,
                            processData: false,
                            headers: {                
                                "Authorization": "Bearer "+api_key
                            },
                            success: function(response) {
                                show_alert('success', `Seu QR code foi enviado com sucesso para` + ' ' + email);
                                sendBtn.html(`Enviar`);
                                $('#sharePopup').modal('hide');
                                $('#DownloadModal').modal('hide');
                                $(".modal-backdrop").remove();
                                $('#recieverEmail').val("");
                            },
                            error: function(error) {
                                console.error(error);
                            }
                        });
                    }).catch(error => {
                        console.error('Error getting SVG data:', error);
                    });
                }

            }
        }
    }

    let data = [];

    function convert(link, type, width, height, names, index) {
            return new Promise(resolve => {
                    if(names != null){
                        var filename = `${names[index]}.${type === 'print'? 'png' : type }`;
                    }else{
                        var filename = `${link.split('.')[0]}.${type === 'print'? 'png' : type }`;
                    }

                    if (type === 'svg') {
                        fetchSvg(link).then(res => {
                            const file = new File([res], filename, {
                                type: 'image/svg+xml',
                            });
                            data.push(file);
                            
                            resolve();
                        });
                    } else {
                        reCorrectSvg(link).then((res) => {
                            const image = new Image();
                            image.crossOrigin = 'anonymous';

                            image.onload = function() {
                                setTimeout(function() {

                                    const canvas = document.createElement('canvas');
                                    const iWidth = width;
                                    const iHeight = height * (image.naturalHeight / image.naturalWidth);

                                    canvas.width = width;
                                    canvas.height = iHeight;

                                    const context = canvas.getContext('2d');

                                    if (type == "jpeg" || type == "jpg") {
                                        context.beginPath();
                                        context.rect(0, 0, width, iHeight);
                                        context.fillStyle = "white";
                                        context.fill();
                                    }

                                    context.drawImage(image,
                                        10, 10, iWidth - 20, iHeight - 20
                                    );

                                    if (type === 'pdf') {
                                        data.push({
                                            imgLink: canvas.toDataURL(getMimeType(type), 1),
                                            size: null,
                                            width: Math.floor((iWidth * 25.4) / Math.round((image.naturalHeight / image.naturalWidth) * 130)), //px to mm
                                            height: Math.floor((iHeight * 25.4) / Math.round((image.naturalHeight / image.naturalWidth) * 130))
                                        });
                                    } else {
                                        data.push(dataURLtoFile(canvas.toDataURL(getMimeType(type), 1), filename));
                                    }

                                    image.remove();
                                    canvas.remove();

                                    resolve();
                                }, 0);

                            }
                            image.style.backgroundColor = "red";
                            image.src = URL.createObjectURL(new Blob([res], {
                                type: "image/svg+xml"
                            }));
                        });
                    }
            })
        }

    async function getDataFromSvg(type, selectedQrCodes, width = 1024, height = 1024, names = null) {
        data = [];
        let chainedPromise = Promise.resolve();
        const promiseArray = selectedQrCodes.map((link, index) => {
            return chainedPromise = chainedPromise.then(() => {
                return convert(link, type, width, height, names, index);
            });
        });

        let result = await Promise.all(promiseArray);

        if (type === 'pdf') {
            const pdfBlob = await savePdf(data, 'share.pdf', null, true);
            return [new File([pdfBlob], 'share-pdf.pdf', {
                type: pdfBlob.type
            })];
        } else {
            return data;
        }

    }

    const reCorrectSvg = (svgPath) => {
        return new Promise(resolve => {
            const fr = new FileReader();
            fetchSvg(svgPath).then((res) => {
                fr.readAsText(res);
                fr.onload = () => {
                    const svgRes = String(fr.result);
                    const doc = new DOMParser().parseFromString(svgRes, "image/svg+xml");
                    const svgElm = doc.documentElement
                    if (!svgElm.hasAttribute('width') && !svgElm.hasAttribute('height')) {
                        const dimensions = svgElm.getAttribute('viewBox').split(' ');
                        svgElm.setAttribute('width', dimensions[2])
                        svgElm.setAttribute('height', dimensions[3])
                        resolve(svgElm.outerHTML)
                    } else {
                        resolve(svgRes);
                    }
                }
            })
        })
    }

    function dataURLtoFile(dataUrl, filename) {
        var arr = dataUrl.split(','),
            mime = arr[0].match(/:(.*?);/)[1],
            bstr = atob(arr[arr.length - 1]),
            n = bstr.length,
            u8arr = new Uint8Array(n);
        while (n--) {
            u8arr[n] = bstr.charCodeAt(n);
        }
        return new File([u8arr], filename, {
            type: mime
        });
    }

    async function fetchSvg(path) {
    try {
        const response = await fetch('https://qr-generator.ai/api/guest_data', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({
                path: path,
                action: "get_svg_content",
            }),
        });

        if (!response.ok) {
            throw new Error(`SVG fetch failed with status: ${response.status}`);
        }

        const blob = await response.blob(); 
        return blob;
    } catch (error) {
        console.error('Error fetching SVG content:', error);
        throw error;
    }
}


    async function ArchiveToZip(type, imagesPath,qrCodeIdArr, width, height,api_key) {
        const jsZip = new JSZip();
        await getDataFromSvg(type, imagesPath[0]).then(data => {
            data.forEach((file, i) => {
                jsZip.file(`${imagesPath[1][i].replace(/\//g, '_')}.${type}`, file, {createFolders: false});
            })
        })
        await jsZip.generateAsync({
            type: "blob"
        }).then((content) => {

            // update qr_codes status
            updateQrStatus(qrCodeIdArr,api_key);
            saveAs(content, `${new Date().getTime()}.zip`);
        });
    }

    function updateQrStatus(qrCodeIdArr,api_key){       
        $.ajax({
            type: 'POST',
            url: 'https://qr-generator.ai/api/ajax',
            data: {
                qr_code_ids: qrCodeIdArr,                
                action: "bulk_qr_download_status",
            },
            dataType: 'json',
            headers: {                
                "Authorization": "Bearer "+api_key
            },
            success: function(response) {
            },
            error: () => {
                
            }
        });
    }


    $('#newUrl').on('input', function(){
        var inputValue = $(this).val();
        if (inputValue.trim() != "") {
            $(this).val(inputValue.trim());
        }
    });

    $("#saveUrl").click(function() {
        const Modal = $(this).closest('#editURL');
        const userID = Modal.find('#user_id').val();
        const qrID = Modal.find('#qr_id').val();
        const errorTag = Modal.find('#urlErr');
        const newUrlField = Modal.find('#newUrl');
        const saveBtnHTML = $(this).html();
        const spinnerHTML = `<div class='px-1'><svg viewBox="25 25 50 50"  class="new-spinner-share"><circle r="20" cy="50" cx="50"></circle></svg></div>`;

        if (validateURL(newUrlField.val())) {
 
            errorTag.hide();
            newUrlField.css("border", "2px solid #96949C");

            // $('#editURL').hide();
            $('#editURL').fadeOut(100);
            $('#editURL').removeClass('show');
            $('body').removeClass('set-scroll-none');
            $('#overlayPre').css({
                'opacity': '0',
                'display': 'none'
            });

            $.ajax({
                type: 'POST',
                url: 'https://qr-generator.ai/api/auth_data',
                data: {
                    action: 'updateURL',                  
                    qr_id: qrID,
                    url: newUrlField.val()
                },
                dataType: 'json',                
                beforeSend: () => {
                    $(this).html(spinnerHTML);
                },
                success: (resp) => {
                    $(this).html(saveBtnHTML);
                    show_alert(resp.status ? 'success' : 'error', resp.message);
                    Modal.find('#closeBtn').click();
                    qrCodeListing();
                },
                error: (xhr, ert) => {
                    $(this).html(saveBtnHTML);
                    show_alert('error', `${xhr.status === 0 ? 'Falha: sem conexão de Internet!' : xhr.status === 500 ? 'Falha: Erro interno do servidor!' : 'Falha: algo deu errado!'}`);
                }
            });

        } else {
            errorTag.show();
            newUrlField.css("border", "2px solid red");
        }
    });

    function validateURL(urlValue) {
        if (!urlValue) return false;

        urlValue = urlValue.trim();
        if (urlValue === "") return false;

        // Obvious bad user copy-paste issues
        if (/^".*"$/g.test(urlValue) || /<[^>]*>/g.test(urlValue)) return false;

        // Reject malformed scheme (e.g. http//, https:///)
        if (
            /^(ht|htt|http|https):{0,2}\/{0,2}/.test(urlValue) &&
            !/^(https?:\/\/[^/])/.test(urlValue)
        ) return false;

        // Add scheme if missing (for parsing)
        let testUrl = urlValue;
        if (!/^[a-zA-Z][a-zA-Z0-9+\-.]*:\/\//.test(testUrl)) {
            testUrl = "http://" + testUrl;
        }

        // Pre-parse hostname using regex (fast fail)
        const hostMatch = testUrl.match(/:\/\/([^\/]+)/);
        if (!hostMatch) return false;
        const rawHostname = hostMatch[1];

        // Block invalid hostnames: typo domains, double dots, missing TLD
        const domainParts = rawHostname.split('.');
        const tld = domainParts[domainParts.length - 1];

        // Allow Unicode TLDs (IDN). Use \p{L} with 'u' flag; fall back to a broad BMP range if \p isn't supported.
        let tldIsLetters = false;

        try {
            tldIsLetters = new RegExp('^\\p{L}{2,}$', 'u').test(tld); // any-letter, length ≥ 2
            
        } catch (_) {
            // Fallback for environments without Unicode property escapes
            tldIsLetters = /^[A-Za-z\u00C0-\uFFFF]{2,}$/.test(tld);
        }

        if (
            rawHostname.startsWith('-') ||
            rawHostname.endsWith('-') ||
            rawHostname.startsWith('.') ||
            rawHostname.endsWith('.') ||
            rawHostname.includes('..') ||
            rawHostname.includes(' ') ||
            /^ww\d*\./.test(rawHostname) ||     // typo domains
            domainParts.length < 2 ||
            !tldIsLetters
        ) return false;

        // Reject IP addresses as domains
        if (/^[0-9]+\.[0-9]+\.[0-9]+\.[0-9]+$/.test(rawHostname) || /^\[.*\]$/.test(rawHostname)) {
            return false;
        }

        // Disallow punycode phishing tricks
        if (/xn---/.test(rawHostname)) return false;

        // Parse URL after domain logic is passed
        let url;
        try {
            url = new URL(testUrl);
        } catch (e) {
            return false;
        }

        // Accept only http(s)
        if (!['http:', 'https:'].includes(url.protocol)) return false;

        // Block known unsafe protocols
        const bannedProtocols = ['javascript:', 'data:', 'file:', 'vbscript:'];
        if (bannedProtocols.includes(url.protocol.toLowerCase())) return false;

        // Final deep-checks on path for abuse
        const dangerousPattern = /<script|<\/script|javascript:|%3Cscript|%3C\/script/i;
        if (
            dangerousPattern.test(url.href) ||
            urlValue.includes('%%') ||
            urlValue.includes('\\') ||
            urlValue.includes(' ') ||
            url.pathname.match(/\/{3,}/) ||
            url.pathname.match(/%{2,}/) ||
            url.pathname.endsWith('%') ||
            url.pathname.includes('<') ||
            url.pathname.includes('>')
        ) {
            return false;
        }

        return true;
    }

    
    function downloadModalClose() {
        $(".modal-backdrop").remove();
        $("#DownloadModal").modal('hide');
    }

    async function compressImage(blobImg, qualityPercentage, mimeType) {
        const MAX_WIDTH = 320;
        const MAX_HEIGHT = 180;
        const img = new Image();
        img.src = URL.createObjectURL(blobImg);
        
        await new Promise((resolve, reject) => {
            img.onload = function() {
                const ratio = Math.min(MAX_WIDTH / img.width, MAX_HEIGHT / img.height);
                const width = Math.round(img.width * ratio);
                const height = Math.round(img.height * ratio);

                const canvas = document.createElement('canvas');    
                canvas.width = width;
                canvas.height = height;
    
                const ctx = canvas.getContext('2d');

                if (mimeType === 'image/png') {
                    ctx.fillStyle = 'white';
                    ctx.fillRect(0, 0, canvas.width, canvas.height);
                }

                ctx.drawImage(img, 0, 0, width, height);
    
                canvas.toBlob((blob) => {
                    if (blob) {
                        const reader = new FileReader();
                        reader.readAsDataURL(blob);
                        reader.onloadend = () => {
                            document.getElementById('qr_code_logo_compressed').value = reader.result;
                            resolve();
                        };
                    }
                }, 'image/jpeg');
            };
        });   
    }

</script>





        <script>
            var doubleTouchStartTimestamp = 0;
            $(document).on("touchstart", function(event) {
                var now = +(new Date());
                if (doubleTouchStartTimestamp + 500 > now) {
                    event.preventDefault();
                };
                doubleTouchStartTimestamp = now;
            });
        </script>   

        <script>      
            

            $('.plan-section .package').each((_, package) => {
                const addToCart = $(package).find('a.add-to-cart');
                $(package).find('button.plan-btn, button.annual-time-btn').on('click', function() {
                    addToCart[0].click();
                });
            });

        function dpfPlanBodyHeight(){
            var body = document.querySelector('.dpfmainwrapper');
            var scale = window.devicePixelRatio;
            var scalingBlock = document.querySelector('.height-adjust-wrp');

            if(!scalingBlock){ return; }

            var newHeight;        
            if(scale = 1.5){

                newHeight = scalingBlock.offsetHeight*0.72 +10;
                
            }else{
                newHeight = scalingBlock.offsetHeight*0.81 +10;

            }
            if((window.innerWidth > 1200) && (window.innerWidth < 1920)){
                body.style.height = `${newHeight}px`;
                body.style.minHeight = `${newHeight}px`;
                scalingBlock.style.paddingBottom = '25px';

            }
        }

            window.addEventListener("load", (event) => {
                dpfPlanBodyHeight();           
            });
            window.addEventListener("resize", (event) => {
                dpfPlanBodyHeight();
                // console.log('Resized');
            });
        </script>


           
    <script type="text/javascript">window.NREUM||(NREUM={});NREUM.info={"beacon":"bam.nr-data.net","licenseKey":"NRJS-dc2bdb4f4ccf531db7c","applicationID":"1315655762","transactionName":"NFYHYUMHChVUVxFaCw0cJFZFDwsIGkELWAoMRAs=","queueTime":0,"applicationTime":157,"atts":"GBEEFwsdGRs=","errorBeacon":"bam.nr-data.net","agent":""}</script><script defer="" src="./Planos e preços_files/vcd15cbe7772f49c399c6a5babf22c1241717689176015" integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==" data-cf-beacon="{&quot;rayId&quot;:&quot;9a8ccdc67927d94e&quot;,&quot;serverTiming&quot;:{&quot;name&quot;:{&quot;cfExtPri&quot;:true,&quot;cfEdge&quot;:true,&quot;cfOrigin&quot;:true,&quot;cfL4&quot;:true,&quot;cfSpeedBrain&quot;:true,&quot;cfCacheStatus&quot;:true}},&quot;version&quot;:&quot;2025.9.1&quot;,&quot;token&quot;:&quot;37a71ddf98574ba58905cc0357560f06&quot;}" crossorigin="anonymous"></script>

<div><div style="display:none"><img src="./Planos e preços_files/3h8920ftbs.png"></div></div><div></div><div id="batBeacon832158551185" style="width: 0px; height: 0px; display: none; visibility: hidden;"><img id="batBeacon369852299354" width="0" height="0" alt="" src="./Planos e preços_files/0" style="width: 0px; height: 0px; display: none; visibility: hidden;"></div><div></div></body></html>